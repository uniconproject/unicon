<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<TITLE>Unicon Language Reference</TITLE>
<BR><BR><BR><BR><BR><BR><BR><BR><BR>
<H1><P ALIGN="center">Unicon Language Reference</P></H1>
<h4><P ALIGN="center">Clinton Jeffery, Shamim Mohamed, Jafar Al Gharaibeh<BR>

TR #8c<BR>
February 23, 2017
</p></h4>
<p>
<p>

<BR><BR><BR><BR><BR>
<H4><P ALIGN="center">Abstract</P></H4><BR>
Unicon is a very high level application programming language with
particular strengths in the areas of complex data structure and
algorithm development, text processing, graphics, network I/O, and
concurrency. This language reference is adapted for
online documentation purposes from Appendix A of "Programming
with Unicon", by Jeffery, Mohamed, Al Gharaibeh, Pereda, and Parlett.

<BR><BR><BR><BR><BR><BR><BR><CENTER>
<p>Unicon Project<br>
http://unicon.org<br>
<P>Department of Computer Science<br>
The University of Idaho<br>
Moscow, ID 83844
</P>
<h5>(this document generated from latex source by htmltex version 1.3)</h5></CENTER><BR><BR><BR><BR>

<p>
<H2>Introduction</H2>
<p>
Unicon is expression-based. Nearly everything is an expression,
including the common <A name="control structure"> </A>control structures such
as while loops. The only things that are not expressions are
declarations for procedures, methods, variables, records, classes, and
linked libraries.
<p>
In the reference, types are listed for parameters and results. If an
identifier is used, any type is allowed. For results,
<A name="generator"> </A>generator expressions are further annotated with an
asterisk (<b>*</b>) and non-generators that can
<A name="expression failure"> </A>fail are annotated with a question mark
(?). A question mark by itself (short for null?)
denotes a predicate whose success or failure is what matters; the
predicate return value (&amp;null) is not significant.
<p>
<H2>Immutable Types: Numbers, Strings, Csets</H2>
<p>
Unicon's immutable types are integers, real numbers,
strings, and csets. Values of these types cannot change. Operators and
functions on immutable types produce new values rather than modify
existing ones. The simplest expressions are literal values, which occur
only for immutable types. A literal value evaluates to itself.
<p>
<H3>Integer</H3>
<p>
Integers are of arbitrary precision. Decimal <A name="integer"> </A>integer
literals are contiguous sequences of the digits 0 through 9, optionally
preceded by a + or - sign.  Suffixes K, M, G, T, or P multiply
a literal by 1024, 1024^2, 1024^3, 1024^4, and
1024^5, respectively.
<p>
Radix integer literals use the format
<em>radix</em>R<em>digits</em>, where <em>radix</em> is a base in the
range 2 through 36, and <em>digits</em> consists of one or more
numerals in the supplied radix. After values 0-9, the letters A-Z are
used for values 10-35. Radix literals are case insensitive, unlike the
rest of the language, so the R may be upper or lower case, as may the
following alphabetic digits.
<p>
<H3>Real</H3>
<p>
<A name="real number"> </A>Reals are double-precision floating-point values.
Real decimal literals are contiguous sequences of the digits 0 through
9, with a decimal point (a period) somewhere within or at either end of
the digits. Real exponent literals use the format
<em>number</em>E<em>integer</em>; E may be upper or lower case.
<p>
<H3>String</H3>
<p>
<A name="string"> </A>Strings are sequences of 0 or more characters, where a
character is a value with a platform-dependent size and symbolic
representation. On platforms with multi-byte character sets, multiple
Icon characters represent a single symbol using a platform-dependent
encoding.
String literals consist of 0 or more characters enclosed in double
quotes. A string literal may include escape sequences that use multiple
characters to encode special characters. The escape sequences are given
in Table A-1. Incomplete <A name="string!multi-line"> </A>string literals may
be continued on the next line if the last character on a line is an
underscore (_). In that case, the underscore, the newline, and any
whitespace at the beginning of the next line are not part of the string
literal.
<p>

<b>Table A-1</b>
<p>
<b>Escape Codes and Characters</b>

<p>

<table border><tr><td>


<b>Code</b> <td>
<b>Character</b> <td>
<b>Code</b> <td>
<b>Character</b> <td>
<b>Code</b> <td>
<b>Character</b> <td>
<b>Code</b> <td>
<b>Character</b><tr><td>

    \b <td> backspace <td>
    \d <td> delete <td>
    \e <td> escape <td>
    \f <td> form feed<tr><td>

    \l <td> line feed <td>
    \n <td> newline <td>
    \r <td> carriage return <td>
    \t <td> tab<tr><td>

    \v <td> vertical tab <td>
  \' <td> quote <td>
    " <td> double quote <td>
    \\ <td> backslash<tr><td>

  \<em>ooo</em> <td> octal <td>

  \^<em>x</em> <td> Control-<em>x</em> <td>
~
 <td>
~
<tr><td>

</table>

<p>
<p>
<H3>Cset</H3>
<p>
<A name="cset"> </A>Csets are sets of 0 or more characters. Cset literals
consist of 0 or more characters enclosed in single quotes. As with
strings, a <A name="cset literal"> </A>cset literal may include escape
sequences that use multiple characters to encode special characters.
<p>
<p>
<h3>Pattern</h3>
<p>

<A name="pattern"> </A>Patterns are an immutable structure type used in
matching, parsing or categorizing strings. Pattern literals consist of
regular expressions enclosed in less than (&lt;) and greater than (&gt;)
symbols.  Within such marks, operators and reserved words do not have their
normal meaning; instead concatenation becomes the implicit operator and a
few characters have special interpretations, including asterisk, plus,
question mark, curly braces, square brackets, and the period character.  In
addition to pattern literals, patterns may be composed using a number of
pattern constructor operators and functions.





<p>
<H2>Mutable Types: Containers and Files</H2>
<p>
Mutable types' values may be altered. Changes to a
<A name="mutable value"> </A>mutable value affect its allocated memory or its
associated OS resource. Mutable types include lists, tables,
sets, records, objects, and files, including windows, network
connections and <A name="database"> </A>databases. These types are described in
the entries for <A name="constructor"> </A>constructors that
create them. <A name="structure types"> </A>Structure types hold
collections of elements that may be of arbitrary, mixed type.
Mutable types are not thread-safe. Mutual exclusion may be imposed for
mutable values accessed by multiple threads, at a cost in performance.
<p>
<H3>List</H3>
<p>
<A name="list"> </A>Lists are dynamically sized, ordered sequences of zero or
more values. They are constructed by function, by an explicit
operator, or implicitly by a call to a variable argument procedure.
They change size by <A name="stack"> </A>stack and <A name="queue"> </A>queue functions.
<p>
<H3>Table</H3>
<p>
<A name="table"> </A>Tables are dynamically sized, unordered mappings from keys
to elements. They are constructed by function. The keys may be of
arbitrary, mixed type.
<p>
<H3>Set</H3>
<p>
<A name="set"> </A>Sets are unordered collections. They are constructed by function.
<p>
<H3>Record</H3>
<p>
<A name="record"> </A>Records are ordered, fixed length sequences of elements
accessed via named fields.
<p>
<H3>Object</H3>
<p>
<A name="object"> </A>Objects are ordered, fixed length sequences of elements that may
be accessed via named fields and methods. Accessing an object's fields from
outside its methods (using it as a record) is legal but deprecated.
<p>
<H3>File</H3>
<p>
<A name="file"> </A>Files are system resources corresponding to data on secondary
storage, areas on users' displays, network connections, or
<A name="database"> </A>databases. Operations on files cause input or output side
effects on the system outside of the program execution.
<p>
<H2>Variables</H2>
<p>
Variables are names for locations in memory where values can be stored.
Values are stored in variables by <A name="assignment"> </A>assignment
operators. A <A name="variable"> </A>variable name begins with a letter or
underscore, followed by zero or more letters, underscores, or digits. A
variable name cannot be the same as one of Icon's
reserved words, nor can it be the same as one of
Icon's keywords if it follows an adjacent ampersand
character. Variables can hold values of any type, and may hold
different types of values at different times during program execution.
<p>
There are four kinds of variables: <A name="global"> </A>global,
<A name="local"> </A>local, <A name="static, and class"> </A>static, and class. Global,
local, and static variables are declared by introducing one of the
reserved words (global, local, or static)
followed by a comma-separated list of variable names. Global variables
are declared outside of any procedure or method body, while local and
static variables are declared at the beginning of procedure and method
bodies. Local and static variable names may be followed by
an assignment operator and an initial value; otherwise variables
other than procedure and class names begin with the value
<code>&amp;null</code>.
<p>
<A name="aliasing"> </A><em>Aliasing</em> occurs when two or more variables
refer to the same value, such that operations on one variable might
affect the other. Aliasing is a common source of program bugs.
Variables holding integer, real, string, or cset values are never
aliased, because those types are immutable.
<p>
<H3>Global</H3>
<p>
Global variables are visible everywhere in the program, and exist at the same
location for the entire program execution. Declaring a procedure declares a
global variable initialized to the procedure value that corresponds to the
code for that procedure. Global variables are not thread-safe.
<p>
<H3>Local</H3>
<p>
Local variables exist and are visible within a single procedure or method only
for the duration of a single procedure invocation, including suspensions and
resumptions, until the procedure returns, fails, or is <em>vanquished</em> by
the return or failure of an ancestor invocation while it is suspended.
Undeclared variables in any <A name="scope"> </A>scope are implicitly local, but this
dangerous practice should be avoided in large programs.
<p>
Variables that are declared as <em>parameters</em> are local variables
that are preinitialized to the values of actual parameters at the time
of a procedure or method invocation. The semantics of parameter passing
are the same as those of assignment.
<p>
<H3>Static</H3>
<p>
Static variables are visible only within a single procedure or method, but exist
at the same location for the entire program execution. The value stored in a
static variable is preserved between multiple calls to the procedure in which it
is declared. Static variables are not thread-safe.
<p>
<H3>Class</H3>
<p>

Class variables are visible within the methods of a declared class.  Class
variables are created for each <A name="instance!class"> </A>instance
(object) of the class. The lifespan of class variables is the life span of
the instance to which they belong. The value stored in a class variable is
preserved between multiple calls to the methods of the class in which it is
declared.  Class variables are not thread-safe.

<p>
<H2>Keywords</H2>
<p>
Keywords are names with global <A name="scope"> </A>scope and special semantics within
the language. They begin with an ampersand character. Some keywords are names of
common constant values, while others are names of variables that play a special
role in Icon's <A name="control structure"> </A>control structures. The
name of the keyword is followed by a : if it is read-only, or a := if it is a
variable, followed by the type of value the keyword holds.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;allocated : integer* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>report memory use</STRONG></div><br>
<p>

<A name="memory use"> </A>&amp;allocated generates the cumulative number
of bytes allocated in heap, static, string, and block regions during
the entire program execution.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;ascii : cset </STRONG> </div><div style="text-align:right; float:right"> <STRONG>ASCII character set</STRONG></div><br>
<p>

<A name="ASCII, &amp;ascii"> </A>&amp;ascii produces a cset corresponding to
the ASCII characters.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;clock : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>time of day</STRONG></div><br>
<p>

&amp;clock produces a string consisting of the current
<A name="time of day &amp;clock"> </A>time of day in hh:mm:ss format.
See also keyword &amp;now.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;collections : integer* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>garbage collection activity</STRONG></div><br>
<p>

<A name="garbage collection"> </A>&amp;collections generates the number of
times memory has been reclaimed in heap, static, string, and block
regions.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;column : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>source code column</STRONG></div><br>
<p>

&amp;column returns the <A name="source code"> </A>source code
<A name="column number"> </A>column number of the current execution point. This
is especially useful for execution monitoring.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;cset : cset </STRONG> </div><div style="text-align:right; float:right"> <STRONG>universal character set</STRONG></div><br>
<p>

<A name="cset, universal &amp;cset"> </A>&amp;cset produces a cset constant
corresponding to the universal set of all characters.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;current :co-expression </STRONG> </div><div style="text-align:right; float:right"> <STRONG>current co-expression</STRONG></div><br>
<p>

<A name="current co-expression"> </A>&amp;current produces the
co-expression that is currently executing.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;date : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>today's date</STRONG></div><br>
<p>

<A name="today &amp;date"> </A>&amp;date produces the current
<A name="date"> </A>date in yyyy/mm/dd format.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;dateline : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>time stamp</STRONG></div><br>
<p>

<A name="time stamp"> </A>&amp;dateline produces a human-readable time
stamp that includes the day of the week, the date, and the current
time, down to the minute.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;digits : cset </STRONG> </div><div style="text-align:right; float:right"> <STRONG>digit characters</STRONG></div><br>
<p>

<A name="digits, cset &amp;digits"> </A>&amp;digits produces a cset constant
corresponding to the set of digit characters 0-9.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;dump := integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>termination dump</STRONG></div><br>
<p>

&amp;dump controls whether the program dumps information on
program termination or not. If &amp;dump is nonzero when the
program halts, a dump of local and global variables and their values is
produced.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;e : real </STRONG> </div><div style="text-align:right; float:right"> <STRONG>natural log e</STRONG></div><br>
<p>

<A name="natural log, &amp;e"> </A>&amp;e is the base of the natural
logarithms, 2.7182818...
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;error := integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>fail on error</STRONG></div><br>
<p>

<A name="error!convert to failure"> </A>&amp;error controls whether
runtime errors are converted into expression failure. By assigning to
this keyword, error conversion can be enabled or disabled for specific
sections of code. The integer &amp;error is decremented by one on each
error, and if it reaches zero, a runtime error is generated. Assigning
a value of -1 effectively disables runtime errors indefinitely. See
also &amp;syserr.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;errornumber : integer? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>runtime error code</STRONG></div><br>
<p>

&amp;errornumber is the error number of the last runtime error
that was converted to failure, if there was one.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;errortext : string? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>runtime error message</STRONG></div><br>
<p>

<A name="error!message, &amp;errortext"> </A>&amp;errortext is the error
message of the last error that was converted to failure.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;errorvalue : any? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>offending value</STRONG></div><br>
<p>

&amp;errorvalue is the erroneous value of the last error that was
converted to failure.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;errout : file </STRONG> </div><div style="text-align:right; float:right"> <STRONG>standard error file</STRONG></div><br>
<p>

<A name="error!standard file &amp;errout"> </A>&amp;errout is the standard
error file. It is the default destination to which runtime errors and
program termination messages are written.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;eventcode := integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>program execution event</STRONG></div><br>
<p>

<A name="event code!program execution"> </A>&amp;eventcode indicates the
kind of behavior that occurred in a monitored program at the time of
the most recent call to EvGet(). This keyword is only
supported under interpreters built with execution monitoring support.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;eventsource := co-expression </STRONG> </div><div style="text-align:right; float:right"> <STRONG>source of program execution events</STRONG></div><br>
<p>

&amp;eventsource is the co-expression that transmitted the most
recent event to the current program. This keyword is null unless the
program is an execution monitor. See also &amp;source. Under a
monitor coordinator, &amp;eventsource is the coordinator and
global variable Monitored is the target program.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;eventvalue := any </STRONG> </div><div style="text-align:right; float:right"> <STRONG>program execution value</STRONG></div><br>
<p>

<A name="event value!program execution"> </A>&amp;eventvalue is a value
from the monitored program that was being processed at the time of the
last program event returned by EvGet(). This keyword is only
supported under interpreters built with execution monitoring support.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;fail : none </STRONG> </div><div style="text-align:right; float:right"> <STRONG>expression failure</STRONG></div><br>
<p>

<A name="expression failure!&amp;fail"> </A>&amp;fail never produces a
result. Evaluating it always fails.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;features : string* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>platform features</STRONG></div><br>
<p>

<A name="features"> </A>&amp;features generates strings that indicate the
non-portable features supported on the current platform.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;file : string? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>current source file</STRONG></div><br>
<p>

&amp;file is the name of the <A name="source file"> </A>source file for
the current execution point, if there is one. This is especially useful
for execution monitoring.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;host : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>host machine name</STRONG></div><br>
<p>

<A name="host machine name, &amp;host"> </A>&amp;host is a string that
identifies the host computer Icon is running on.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;input : file </STRONG> </div><div style="text-align:right; float:right"> <STRONG>standard input file</STRONG></div><br>
<p>

<A name="input!standard file &amp;input"> </A>&amp;input is a standard input
file. It is the default source for file input functions.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;lcase : cset </STRONG> </div><div style="text-align:right; float:right"> <STRONG>lowercase letters</STRONG></div><br>
<p>

<A name="lowercase, cset &amp;lcase"> </A>&amp;lcase is a cset consisting of
the lowercase letters from a to z.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;letters : cset </STRONG> </div><div style="text-align:right; float:right"> <STRONG>letters</STRONG></div><br>
<p>

<A name="letters, cset &amp;letters"> </A>&amp;letters is a cset consisting
of the upper and lowercase letters A-Z and a-z.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;level : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>call depth</STRONG></div><br>
<p>

<A name="call depth"> </A>&amp;level gives the nesting level of the
currently active procedure call. This keyword is not supported under
the optimizing compiler, iconc.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;line : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>current source line number</STRONG></div><br>
<p>

<A name="line number"> </A>&amp;line is the line number in the
<A name="source code!line"> </A>source code that is currently executing.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;main : co-expression </STRONG> </div><div style="text-align:right; float:right"> <STRONG>main task</STRONG></div><br>
<p>

<A name="main task"> </A>&amp;main is the co-expression in which program
execution began.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;now : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>current time</STRONG></div><br>
<p>

&amp;<A name="now"> </A>now produces the current time as the
number of seconds since the epoch beginning 00:00:00 GMT, January 1,
1970. See also &amp;clock
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;null : null </STRONG> </div><div style="text-align:right; float:right"> <STRONG>null value</STRONG></div><br>
<p>

<A name="null value"> </A>&amp;null produces the null value.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;output : file </STRONG> </div><div style="text-align:right; float:right"> <STRONG>standard output file</STRONG></div><br>
<p>

<A name="output!standard file &amp;output"> </A>&amp;output is the standard
output file. It is the default destination for file output.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;phi : real </STRONG> </div><div style="text-align:right; float:right"> <STRONG>golden ratio</STRONG></div><br>
<p>

<A name="phi, golden ratio &amp;phi"> </A><A name="golden ratio, &amp;phi"> </A>&amp;phi
is the golden ratio, 1.618033988...
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;pi : real </STRONG> </div><div style="text-align:right; float:right"> <STRONG>pi</STRONG></div><br>
<p>

<A name="pi, 3.14... &amp;pi"> </A>&amp;pi is the value of pi, 3.141592653...
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;pos := integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>string scanning position</STRONG></div><br>
<p>

<A name="position, string"> </A>&amp;pos is the position within the
current subject of string scanning. It is assigned implicitly by
entering a string scanning environment, moving or tabbing within the
environment, or assigning a new value to &amp;subject.
&amp;pos may not be assigned a value that is outside the range of
legal indices for the current &amp;subject string.
Each thread has its own instance of &pos; assigning a value to it
in one thread does not affect the string scanning environment of
any another thread.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;progname := string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>program name</STRONG></div><br>
<p>

<A name="program name"> </A>&amp;progname is the name of the current
executing program.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;random := integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>random number seed</STRONG></div><br>
<p>

<A name="random!number seed"> </A>&amp;random is the seed for random
numbers produced by the random operator, unary ?. It is
assigned a different sequence for each execution but may be explicitly
set for reproducible results.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;regions : integer* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>region sizes</STRONG></div><br>
<p>

<A name="region sizes"> </A>&amp;regions produces the sizes of the static
region, the string region, and the block region. The first result is
zero; it is included for backward compatibility reasons.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;source : co-expression </STRONG> </div><div style="text-align:right; float:right"> <STRONG>invoking co-expression</STRONG></div><br>
<p>

&amp;source is the co-expression that activated the current
co-expression.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;storage : integer* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>memory in use</STRONG></div><br>
<p>

<A name="memory use"> </A>&amp;storage gives the amount of memory
currently used within the static region, the string region, and the
block region. The first result is always zero and is included for
backward compatibility reasons.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;subject := string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>string scanning subject</STRONG></div><br>
<p>

<A name="subject, string scanning"> </A>&amp;subject holds the default value
used in string scanning and analysis functions. Assigning to &amp;subject
implicitly assigns the value 1 to &amp;pos.  Each thread has its own
instance of &subject; assigning a value to it in one thread does not affect
the string scanning environment of any another thread.

<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;syserr := integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>halt on system error</STRONG></div><br>
<p>

&amp;syserr controls whether a system error causes execution to
halt. System errors cause expression failure by
default. If &amp;syserr is set to a non-zero value, system errors
are converted to runtime errors and halt execution with an error
traceback.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;time : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>elapsed time</STRONG></div><br>
<p>

<A name="elapsed time"> </A>&amp;<A name="time!since start"> </A>time
gives the number of milliseconds of CPU time that have elapsed since
the program execution began. For wall clock time see &amp;now or
&amp;clock.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;trace := integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>trace program</STRONG></div><br>
<p>

&amp;trace gives the number of nesting levels to which
program execution will be traced. 0 means no <A name="tracing"> </A>tracing.
A negative value traces to an infinite depth.
&amp;trace is set outside the program using the TRACE
<A name="environment variable!TRACE"> </A>environment variable or the
-t compiler option.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;ucase : cset </STRONG> </div><div style="text-align:right; float:right"> <STRONG>upper case letters</STRONG></div><br>
<p>

<A name="upper case"> </A>&amp;ucase is a cset consisting of all the upper
case letters from A to Z.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;version : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>version</STRONG></div><br>
<p>

<A name="version"> </A>&amp;version is a string that indicates which
version of Unicon or Icon is executing.
<p>
<H3>Graphics keywords</H3>
<p>
Several of the graphics keywords are variables with assignment
restricted to value of a particular type or types. Graphics keywords
are more fully described in [Griswold98].
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;col : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>mouse location, text column</STRONG></div><br>
<p>

&amp;col is the mouse location in text columns during the most
recent Event(). If &amp;col is assigned, &amp;x
gets a corresponding pixel location in the current font on
&amp;window.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;control : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>control modifier flag</STRONG></div><br>
<p>

&amp;control produces the null value if the control key was
pressed at the time of the most recently processed event, otherwise
&amp;control fails.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;interval : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>time since last event</STRONG></div><br>
<p>

&amp;interval produces the time between the most recently
processed event and the event that preceded it, in milliseconds.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;ldrag : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>left mouse button drag</STRONG></div><br>
<p>

&amp;ldrag produces the integer that indicates a left button drag
event.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;lpress : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>left mouse button press</STRONG></div><br>
<p>

&amp;lpress produces the integer that indicates a left button
press event.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;lrelease : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>left mouse button release</STRONG></div><br>
<p>

&amp;lrelease produces the integer that indicates a left button
release event.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;mdrag : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG> middle mouse button drag</STRONG></div><br>
<p>

&amp;mdrag produces the integer that indicates a middle button drag event.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;meta : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>meta modifier flag</STRONG></div><br>
<p>

&amp;meta produces the null value if the meta (Alt) key was
pressed at the time of the most recently processed event, otherwise
&amp;meta fails.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;mpress : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>middle mouse button press</STRONG></div><br>
<p>

&amp;mpress produces the integer that indicates a middle button
press event.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;mrelease : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>middle mouse button release</STRONG></div><br>
<p>

&amp;mrelease produces the integer that indicates a middle button
release event.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;pick : string* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>pick 3D objects</STRONG></div><br>
<p>

&amp;pick generates the object IDs selected at point
(&amp;x,&amp;y) at the most recent Event(), if the
event was read from a 3D window with the attribute pick=on.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;rdrag : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>right mouse button drag</STRONG></div><br>
<p>

&amp;rdrag produces the integer that indicates a right button drag
event.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;resize : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>window resize event</STRONG></div><br>
<p>

&amp;resize produces the integer that indicates a window resize
event.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;row : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>mouse location, text row</STRONG></div><br>
<p>

&amp;row is the mouse location in text rows during the most recent
Event(). If &amp;row is assigned, &amp;y gets a
corresponding pixel location in the current font on &amp;window.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;rpress : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>right mouse button press</STRONG></div><br>
<p>

&amp;rpress produces the integer that indicates a right button
press event.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;rrelease : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>right mouse button release</STRONG></div><br>
<p>

&amp;rrelease produces the integer that indicates a right button
release event.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;shift : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>shift modifier flag</STRONG></div><br>
<p>

&amp;shift produces the null value if the shift key was pressed at
the time of the most recently processed event, otherwise
&amp;shift fails.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;window : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>default window</STRONG></div><br>
<p>

&amp;window is the default window argument for all window
functions. &amp;window may be assigned any value of type
window.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;x : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>mouse location, horizontal</STRONG></div><br>
<p>

&amp;x is the horizontal mouse location in pixels during the most
recent Event(). If &amp;x is assigned, &amp;col
gets a corresponding text coordinate in the current font on
&amp;window.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>&amp;y : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>mouse location, vertical</STRONG></div><br>
<p>

&amp;y is the vertical mouse location in pixels during the most
recent Event(). If &amp;y is assigned, &amp;row
gets a corresponding text coordinate in the current font on
&amp;window.
<p>
<H2>Control Structures and Reserved Words</H2>
<p>
Unicon has many <A name="reserved word"> </A>reserved words. Some are used in
declarations, but most are used in <A name="control structure"> </A>control
structures. This section summarizes the syntax and semantics
introduced by all the reserved words of the language. The reserved
word under discussion is written in a bold font. The surrounding
syntax uses square brackets for optional items and an asterisk for
items that may repeat.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>break expr </STRONG> </div><div style="text-align:right; float:right"> <STRONG>exit loop</STRONG></div><br>
<p>

The <A name="break expression"> </A>break expression exits the nearest
enclosing loop. <em>expr</em> is evaluated and treated as the result of
the entire loop expression. If <em>expr</em> is another
break expression, multiple loops will be exited.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>expr1 to expr2 by expr3 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>step increment</STRONG></div><br>
<p>

<A name="by, to-by step"> </A>The by reserved word supplies a step
increment to a to-expression (the default is 1).
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>case expr of { ? } </STRONG> </div><div style="text-align:right; float:right"> <STRONG>select expression</STRONG></div><br>
<p>

The <A name="case expression"> </A>case expression selects one of
several branches of code to be executed.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG><b>class</b> name [: superclass]* (fields) methods [initially] end </STRONG> </div><div style="text-align:right; float:right"> <STRONG>class declaration</STRONG></div><br>
<p>

<A name="class!declaration"> </A>The class declaration introduces a new
object type into the program. The class declaration may
include lists of superclasses, fields, methods, and an
initially section.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>create expr </STRONG> </div><div style="text-align:right; float:right"> <STRONG>create co-expression</STRONG></div><br>
<p>

<A name="create"> </A>The create expression produces a new
co-expression to evaluate <em>expr</em>.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>critical x : expr </STRONG> </div><div style="text-align:right; float:right"> <STRONG>serialize on x</STRONG></div><br>
<p>

<A name="critical section"> </A>The critical expression serializes the
execution of <em>expr</em> on value <EM>x</EM>. Value <EM>x</EM> must
be a mutex or protected object that has a mutex. The critical section
causes <EM>x</EM> to be locked before evaluating <EM>expr</EM> and
unlocked afterward. Breaking, returning or failing out of <EM>expr</EM>
does not automatically unlock <EM>x</EM>.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>default : expr </STRONG> </div><div style="text-align:right; float:right"> <STRONG>default case branch</STRONG></div><br>
<p>

<A name="default!case branch"> </A>The default branch of a case
expression is taken if no other case branch is taken.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>do expr </STRONG> </div><div style="text-align:right; float:right"> <STRONG>iteration expression</STRONG></div><br>
<p>

<A name="do, iteration"> </A>The do reserved word specifies an
expression to be executed for each iteration of a preceding
while, every, or suspend loop (yes,
suspend is a looping construct).
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>if expr1 then expr2 else expr3 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>else branch</STRONG></div><br>
<p>

<A name="else"> </A>The else expression is executed if <em>expr1</em>
<A name="expression failure"> </A>fails to produce a result.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>end </STRONG> </div><div style="text-align:right; float:right"> <STRONG>end of declared body</STRONG></div><br>
<p>

<A name="end"> </A>The reserved word end signifies the end of a
procedure, method, or class body.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG><b>every</b> <em>expr1</em> [do <em>expr2</em>] </STRONG> </div><div style="text-align:right; float:right"> <STRONG>generate all results</STRONG></div><br>
<p>

<A name="every"> </A>The every expression always fails, causing
<em>expr1</em> to be resumed for all its results.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>fail </STRONG> </div><div style="text-align:right; float:right"> <STRONG>produce no results</STRONG></div><br>
<p>

<A name="fail"> </A>The fail reserved word causes the enclosing
procedure or method invocation to terminate immediately and produce no
results. The invocation may not be resumed. See also the keyword
&amp;fail, which produces a less drastic expression failure.
  fail is equivalent to return &amp;fail
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG><b>global</b> <em>var</em> [, <em>var</em>]* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>declare global variables</STRONG></div><br>
<p>

<A name="global"> </A>Reserved word global introduces one or more
global variables.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG><b>if</b> <em>expr</em> then <em>expr2</em> [else <em>expr3</em>] </STRONG> </div><div style="text-align:right; float:right"> <STRONG>conditional expression</STRONG></div><br>
<p>

<A name="if"> </A>The if expression evaluates <em>expr2</em> only if
<em>expr1</em> produces a result.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG><b>import</b> <em>name</em> [, <em>name</em>]* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>import package</STRONG></div><br>
<p>

<A name="import"> </A>The import declaration introduces the names from
package <em>name</em> so that they may be used without prefixing them
with the package name.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>initial expr </STRONG> </div><div style="text-align:right; float:right"> <STRONG>execute on first invocation</STRONG></div><br>

<p>

<A name="initial"> </A>The initial expression is executed the first time a
procedure or method is invoked. Any subsequent invocations (of the procedure
or method) will not proceed until the initial expression has finished
execution. A recursive invocation of the procedure inside the initial
expression causes a runtime error.

<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG><b>initially</b> [(parameters)] </STRONG> </div><div style="text-align:right; float:right"> <STRONG>initialize object</STRONG></div><br>
<p>

<A name="initially"> </A>The initially section defines a special method
that is invoked automatically when an object is created. If the
initially section has declared parameters, they are used as
the parameters of the <A name="constructor!class"> </A>constructor for objects
of that class.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG><b>invocable</b> <em>procedure</em> [, <em>procedure</em>]* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>allow string invocation</STRONG></div><br>
<p>

<A name="invocable"> </A>
<div style="text-align:left; float:left;">{<b>invocable all</b> } </div><div style="text-align:right; float:right"> <STRONG>allow string invocation</STRONG></div><br>
<p>

The invocable declaration indicates that procedures may be used
in string invocation.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG><b>link</b> <em>filename</em> [, <em>filename</em>]* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>link code module</STRONG></div><br>
<p>

The <A name="link"> </A>link declaration directs that the code in
<em>filename</em> will be added to the executable when this program is
linked. <em>filename</em> may be an identifier or a string literal file
path.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG><b>local</b> <em>var</em> [:=<em>initializer</em> ] [, <em>var</em>  [:=<em> initializer ] ]</em>* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>declare local variables</STRONG></div><br>
<p>

<A name="local"> </A>The local declaration introduces local
variables into the current procedure or method.
<A name="variable"> </A>Variable declarations must be at the beginning of a
procedure or method.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>method name (params) body end </STRONG> </div><div style="text-align:right; float:right"> <STRONG>declare method</STRONG></div><br>
<p>

<A name="method"> </A>The method declaration introduces a procedure
that is invoked with respect to <A name="instance!class"> </A>instances of
a given class. The <em>params</em> and <em>body</em>
are as in procedures, described below.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>next </STRONG> </div><div style="text-align:right; float:right"> <STRONG>iterate loop</STRONG></div><br>
<p>

<A name="next, iteration"> </A>The next expression causes a loop to
immediate skip to its next iteration.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>not expr </STRONG> </div><div style="text-align:right; float:right"> <STRONG>negate expression failure</STRONG></div><br>
<p>

<A name="not"> </A>The not expression fails if <em>expr</em> succeeds,
and succeeds (producing null) if <em>expr</em> fails.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>case expr of { ? }  </STRONG> </div><div style="text-align:right; float:right"> <STRONG>introduce case branches</STRONG></div><br>
<p>

<A name="of"> </A>The <code>of</code> reserved word precedes a special compound
expression consisting of a sequence of case branches of the form
<em>expr</em> : <em>expr</em>. Case branches are evaluated in sequence
until one matches the expression given between the word
case and the of.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>package name </STRONG> </div><div style="text-align:right; float:right"> <STRONG>declare package</STRONG></div><br>
<p>

<A name="package"> </A>The package declaration segregates the global
names in the current source file. In order to refer to them, client
code must either import the package, or prepend
<em>name.</em> (the package name followed by a period)
onto the front of a name in the package.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>procedure name (params) body end </STRONG> </div><div style="text-align:right; float:right"> <STRONG>declare procedure</STRONG></div><br>
<p>

<A name="procedure"> </A>The procedure declaration specifies a
procedure with parameters and code body. The parameters
are a comma-separated list of zero or more variable names. The last
parameter may be suffixed by [ ] to indicate that
following parameters will be supplied to the procedure in a list. The
body is an optional sequence of local and static variable declarations,
followed by a sequence of zero or more expressions.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>record name (fields) </STRONG> </div><div style="text-align:right; float:right"> <STRONG>declare record</STRONG></div><br>
<p>

<A name="record"> </A>The record declaration introduces a new record
type into the program.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>repeat expr </STRONG> </div><div style="text-align:right; float:right"> <STRONG>infinite loop</STRONG></div><br>
<p>

<A name="repeat loop"> </A><A name="infinite loop"> </A>The repeat expression
introduces an infinite loop that will reevaluate <em>expr</em> forever.
Of course, <em>expr</em> may exit the loop or terminate the program in
any number of ways.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>return expr </STRONG> </div><div style="text-align:right; float:right"> <STRONG>return from invocation</STRONG></div><br>
<p>

<A name="return"> </A>The return expression exits a procedure or method
invocation, producing <em>expr</em> as its result. The invocation may
not be resumed.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG><b>static</b> <em>var</em> [, <em>var</em>]* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>declare static variables</STRONG></div><br>
<p>

<A name="static"> </A>The static declaration introduces
local variables that persist for the entire program execution
into the current procedure or method body. Variable
declarations must be at the beginning of a procedure or method.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG><b>suspend</b> <em>expr</em> [do <em>expr</em>] </STRONG> </div><div style="text-align:right; float:right"> <STRONG>produce result from invocation</STRONG></div><br>
<p>

<A name="suspend"> </A>The suspend expression produces one or more
results from an invocation for use by the calling expression. The
procedure or method may be resumed for additional results if the
calling expression needs them. Execution in the suspended invocation
resumes where it left off, in the suspend expression. A single
evaluation of a suspend expression may produce multiple
results for the caller if <em>expr</em> is a
<A name="generator"> </A>generator. An optional do expression is
evaluated each time the suspend is resumed.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>if expr1 then expr2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>conditional expression</STRONG></div><br>
<p>

<A name="then"> </A>The <em>expr2</em> following a \bf then is evaluated
only if <em>expr1</em> following an if succeeds. In that case,
the result of the whole expression is the result of <em>expr2</em>.
<p>
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>thread expr </STRONG> </div><div style="text-align:right; float:right"> <STRONG>create thread</STRONG></div><br>
<p>

<A name="thread"> </A>The \bf thread expression creates and launches
a concurrent thread to evaluate <em>expr</em>.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>expr1 to expr2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>generate arithmetic sequence</STRONG></div><br>
<p>

<A name="to, generator"> </A>The to expression produces the integer
sequence from <em>expr1</em> to <em>expr2</em>.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG><b>until</b> <em>expr1</em> [do <em>expr2</em>] </STRONG> </div><div style="text-align:right; float:right"> <STRONG>loop until success</STRONG></div><br>
<p>

<A name="until"> </A><A name="success"> </A>The until expression loops as long
as <em>expr1</em> fails.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG><b>while</b> <em>expr1</em> [do <em>expr2</em>] </STRONG> </div><div style="text-align:right; float:right"> <STRONG>loop until failure</STRONG></div><br>
<p>

<A name="while"> </A>The while expression loops as long as
<em>expr1</em> succeeds.
<p>
<H2>Operators and Built-in Functions</H2>
<p>
Icon's built-ins operators and functions utilize
automatic type conversion to provide flexibility and ease of
programming. Automatic <A name="type conversion"> </A>type
<A name="conversion, type"> </A>conversions are limited to
integer, real, string, and cset data types. Conversions to a "number" will
convert to either an integer or a real, depending whether the value to
be converted has a decimal. Conversions between numeric types and csets
go through an intermediate conversion to a string value and are not
generally useful.
<p>
Indexes start at 1. Index 0 is the position after the last element of a
string or list. Negative <A name="index, subscript"> </A>indexes are positions
relative to the end. Subscripting operators and string analysis
functions can take two indices to specify a section of the string or
list. When two indices are supplied, they select the same string
section whether they are in ascending or descending order.
<p>
<H3>Operators</H3>
<p>
<A name="operators"> </A>The result types of operators are the same as the
operand types except as noted.
<p>
<H3>Unary operators</H3>
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>! x : any* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>generate elements</STRONG></div><br>
<p>

<A name="generate elements"> </A>The <A name="generate operator "!x"> </A>generate
operator produces the elements of <code>x</code>. If
<code>x</code> is a string variable or refers to a structure value, the
generated elements are variables that may be assigned. <code>!i</code> is
equivalent to <code>(1 to i)</code> for integer <code>i</code>. List, record,
string, and file elements are generated in order, with string elements
consisting of one-letter substrings. Set and table elements are
generated in an undefined order. If <code>x</code> is a messaging
connection to a POP server, <code>!x</code> produces complete messages as
strings. Other types of files, including network connections, produce
elements consisting of text lines.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>/ x </STRONG> </div><div style="text-align:right; float:right"> <STRONG>null test</STRONG></div><br>
<A name="null test /x"> </A>
<p>

<div style="text-align:left; float:left;"><STRONG>\ x </STRONG> </div><div style="text-align:right; float:right"> <STRONG>nonnull test</STRONG></div><br>
<A name="nonnull test \x"> </A>
<p>

The null and nonnull tests succeed
and produce their operand if it satisfies the test.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>- number </STRONG> </div><div style="text-align:right; float:right"> <STRONG>negate</STRONG></div><br>
<p>

<div style="text-align:left; float:left;"><STRONG>+ number </STRONG> </div><div style="text-align:right; float:right"> <STRONG>numeric identity</STRONG></div><br>
<p>

Negation reverses the sign of its operand. Numeric identity does not
change its operand's value other than to convert to a
required numeric type.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>= string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>tab/match</STRONG></div><br>
<p>

<A name="tab/match ( =s )"> </A>The tab/match operator is equivalent to calling
<code>tab(match(s))</code> on its operand.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>* x : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>size</STRONG></div><br>
<p>

The <A name="size operator"> </A>size operator returns the number of elements in
string, cset or structure <code>x</code>.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>. x : x </STRONG> </div><div style="text-align:right; float:right"> <STRONG>dereference</STRONG></div><br>
<p>

The <A name="dereference"> </A>dereference operator returns the value
<code>x</code>.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>? x : any </STRONG> </div><div style="text-align:right; float:right"> <STRONG>random element</STRONG></div><br>
<p>

The <A name="random!operator, ?x"> </A>random operator produces a random element
from <code>x</code>. If <code>x</code> is a string, <code>?x</code> produces a
random one-letter substring. The result is a variable that may be
assigned. If <code>x</code> is a positive integer, <code>?x</code> produces a
random integer between 1 and x.  <code>?0</code> returns a real in the
range from 0.0-1.0.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>| x : x* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>repeated alternation</STRONG></div><br>
<p>

The repeated <A name="alternation, repeated"> </A>alternation operator generates
results from evaluating its operand over and over again in an infinite
loop.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>~ cset </STRONG> </div><div style="text-align:right; float:right"> <STRONG>cset complement</STRONG></div><br>
<p>

The <A name="complement, cset"> </A>complement operator returns a cset
consisting of all characters not in its operand.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>^ co-expression </STRONG> </div><div style="text-align:right; float:right"> <STRONG>refresh co-expression</STRONG></div><br>
<p>

<A name="refresh, co-expression"> </A>The refresh operator restarts a
co-expression so the next time it is activated it will begin with its
first result.
<p>
<H3>Binary operators</H3>
<p>
<A name="binary operator"> </A>Most binary operators may be augmented with an
<A name="assignment!augmented"> </A>assignment. If such an operator is followed
by a <code>:=</code> the left operand must be a variable, and the
expression <code>x </code><code><em>op</em></code><code>:= y</code> is equivalent
to <code>x := x </code><code><em>op</em></code><code> y</code>. For example,
<code>x +:= 5</code> is equivalent but faster than the expression
<code>x := x+5.</code>
In general, augmented operators are not thread-safe. They are only safe if
applied to a local (non static) variable that has an atomic type. For
example, sets are mutable (not safe anywhere) whereas csets are atomic
(unsafe if global or static; safe if local).

<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG><em>number1</em> ^ <em>number2</em> </STRONG> </div><div style="text-align:right; float:right"> <STRONG>power</STRONG></div><br>
<A name="power, exponent ^"> </A>
<p>

<div style="text-align:left; float:left;"><STRONG><em>number1</em> * <em>number2</em> </STRONG> </div><div style="text-align:right; float:right"> <STRONG>multiply</STRONG></div><br>
<p>

<div style="text-align:left; float:left;"><STRONG><em>number1</em> / <em>number2</em> </STRONG> </div><div style="text-align:right; float:right"> <STRONG>divide</STRONG></div><br>
<p>

<div style="text-align:left; float:left;"><STRONG><em>number1</em> % <em>number2</em> </STRONG> </div><div style="text-align:right; float:right"> <STRONG>modulo</STRONG></div><br>
<A name="modulo \%"> </A>
<p>

<div style="text-align:left; float:left;"><STRONG><em>number1</em> + <em>number2</em> </STRONG> </div><div style="text-align:right; float:right"> <STRONG>add</STRONG></div><br>
<p>

<div style="text-align:left; float:left;"><STRONG><em>number1</em> - <em>number2</em> </STRONG> </div><div style="text-align:right; float:right"> <STRONG>subtract</STRONG></div><br>
<p>

The <A name="arithmetic operator"> </A>arithmetic operators may be augmented.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>set1 ** set2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>intersection</STRONG></div><br>
<p>

<div style="text-align:left; float:left;"><STRONG>set1 ++ set2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>union</STRONG></div><br>
<p>

<div style="text-align:left; float:left;"><STRONG>set1 -- set2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>difference</STRONG></div><br>
<p>

The set operators work on sets or csets. They may be augmented.
<p>
<p><hr />
<p>

<div style="text-align:left; float:left;"><STRONG>x . name </STRONG> </div><div style="text-align:right; float:right"> <STRONG>field</STRONG></div><br>
<A name="field, record or class"> </A>
<p>

<div style="text-align:left; float:left;"><STRONG><em>object</em> . name (params) </STRONG> </div><div style="text-align:right; float:right"> <STRONG>method invocation</STRONG></div><br>
<A name="method!invocation"> </A>
<p>

<div style="text-align:left; float:left;"><STRONG><em>object</em> $ superclass .name (params) </STRONG> </div><div style="text-align:right; float:right"> <STRONG>superclass method invocation</STRONG></div><br>
<A name="superclass"> </A>
<p>

The field operator selects field name out of a record,
object, or package. For objects, <em>name</em> may be a method, in
which case the field operator is being used as part of a method
invocation. Superclass method invocation consists of a dollar sign and
superclass name prior to the field operator.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>number1 = number2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>equal</STRONG></div><br>
<p>

<A name="equal!numeric ="> </A>
<div style="text-align:left; float:left;"><STRONG>number1 ~= number2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>not equal</STRONG></div><br>
<p>

<div style="text-align:left; float:left;"><STRONG>number1 &lt; number2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>less than</STRONG></div><br>
<p>

<div style="text-align:left; float:left;"><STRONG>number1 &lt;= number2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>less or equal</STRONG></div><br>
<p>

<div style="text-align:left; float:left;"><STRONG>number1 &gt; number2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>greater than</STRONG></div><br>
<p>

<div style="text-align:left; float:left;"><STRONG>number1 &gt;= number2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>greater or equal</STRONG></div><br>
<p>

<div style="text-align:left; float:left;"><STRONG>string1 == string2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>string equal</STRONG></div><br>
<A name="string!comparison"> </A><A name="equal!string =="> </A>
<p>

<div style="text-align:left; float:left;"><STRONG>string1 ~== string2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>string not equal</STRONG></div><br>
<p>

<div style="text-align:left; float:left;"><STRONG>string1 &lt;&lt; string2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>string less than</STRONG></div><br>
<p>

<div style="text-align:left; float:left;"><STRONG>string1 &lt;&lt;= string2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>string less or equal</STRONG></div><br>
<p>

<div style="text-align:left; float:left;"><STRONG>string1 &gt;&gt; string2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>string greater than</STRONG></div><br>
<p>

<div style="text-align:left; float:left;"><STRONG>string1 &gt;&gt;= string2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>string greater or equal</STRONG></div><br>
<p>

<div style="text-align:left; float:left;"><STRONG>x1 === x2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>equivalence</STRONG></div><br>
<A name="equal!reference ==="> </A>
<p>

<div style="text-align:left; float:left;"><STRONG>x1 ~=== x2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>non equivalence</STRONG></div><br>
<p>

Relational operators produce their right operand if they succeed. They
may be augmented.
<p>
<p><hr />
<p>

<div style="text-align:left; float:left;"><STRONG>var := expr </STRONG> </div><div style="text-align:right; float:right"> <STRONG>assign</STRONG></div><br>
<p>

<div style="text-align:left; float:left;"><STRONG>var1 :=: var2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>swap</STRONG></div><br>
<A name="swap"> </A>
<p>

<div style="text-align:left; float:left;"><STRONG>var &lt;- expr </STRONG> </div><div style="text-align:right; float:right"> <STRONG>reversible assignment</STRONG></div><br>
<A name="assignment!reversible"> </A><A name="reversible assignment"> </A>
<p>

<div style="text-align:left; float:left;"><STRONG>var1 &lt;-&gt; var2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>reversible swap</STRONG></div><br>
<A name="reversible swap"> </A>
<p>

The several <A name="assignment"> </A>assignment
operators all require variables for their left operands, and swap
operators also require variables for their right operands.
Assignment operators are usually thread safe but there are some situations
where they are not.  See the discussion of thread safe assignment without a
mutex (in Chapter 8 of the Unicon book) for details. If in doubt, protect
the global variable with a mutex.

<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>string ? expr </STRONG> </div><div style="text-align:right; float:right"> <STRONG>scan string</STRONG></div><br>
<p>

<A name="scan string"> </A>String scanning evaluates <em>expr</em>
with <code>&amp;subject</code> equal to string and <code>&amp;pos</code> starting at
1. It may be augmented.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>string ?? pattern </STRONG> </div><div style="text-align:right; float:right"> <STRONG>pattern match</STRONG></div><br>
<p>

<A name="pattern match"> </A>Pattern matching produces the substring(s)
where pattern occurs within a string. It is conducted within a new string
scanning environment as per string scanning above. It may be augmented.
<p>
<p><hr />


<div style="text-align:left; float:left;"><STRONG>x ! y </STRONG> </div><div style="text-align:right; float:right"> <STRONG>apply</STRONG></div><br>
<p>

<A name="bang!binary"> </A>The binary bang (exclamation) operator calls x,
using y as its parameters.  x may be a procedure, or the string name of
a procedure.  y is a list or record.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>[x] @ co-expression </STRONG> </div><div style="text-align:right; float:right"> <STRONG>activate co-expression</STRONG></div><br>
<A name="activate co-expression"> </A>
<p>

The activate operator transfers execution
control from the current co-expression to its right operand
co-expression. The transmitted value is <code>x</code>, or <code>&amp;null</code>
if no left operand is supplied. Activation may be augmented.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>[x] @&gt [y] </STRONG> </div><div style="text-align:right; float:right"> <STRONG>send message</STRONG></div><br>
<A name="activate co-expression"> </A>

<div style="text-align:left; float:left;"><STRONG>[x] @>> [y] </STRONG> </div><div style="text-align:right; float:right"> <STRONG>blocking send message</STRONG></div><br>
<p>

The send operator places a message in another thread's public
inbox, or in the current thread's public outbox. The normal version fails
if the box is full; the blocking version waits for space to become
available.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>[x] &lt@ [y] </STRONG> </div><div style="text-align:right; float:right"> <STRONG>receive message</STRONG></div><br>
<A name="activate co-expression"> </A>

<div style="text-align:left; float:left;"><STRONG>[x] <<@ [y] </STRONG> </div><div style="text-align:right; float:right"> <STRONG>blocking receive message</STRONG></div><br>
<p>

The receive operator obtains a message from another thread's public
outbox, or the current thread's public inbox. The normal version fails
if the box is empty; the blocking version waits for a message to become
available.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>string1 || string2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>concatenation</STRONG></div><br>
<p>

<div style="text-align:left; float:left;"><STRONG>pattern1 || pattern2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>pattern concatenation</STRONG></div><br>
<p>

<div style="text-align:left; float:left;"><STRONG>list1 ||| list2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>list concatenation</STRONG></div><br>
<p>

The <A name="concatenation"> </A>concatenation operators produce new values
(or patterns that will match values) consisting
of the left operand followed by the right
operand. They may be augmented.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>x1 &amp; x2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>conjunction</STRONG></div><br>
<p>

<div style="text-align:left; float:left;"><STRONG>expr1 | expr2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>alternation</STRONG></div><br>
<p>

The <A name="conjunction &amp;"> </A>conjunction operator produces <code>x2</code> if
<code>x1</code> succeeds. The <A name="alternation operator ( | )"> </A>
alternation operator produces the results of <code>expr1</code> followed
by the results of <code>expr2</code>; it is a <A name="generator"> </A>generator.
These operators may be augmented.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>x1 \ integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>limitation</STRONG></div><br>
<p>

The <A name="limitation "> </A>limitation operator fails if it
is resumed after its left operand has produced a number of results
equal to its right operand.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>( expr [, expr]* ) </STRONG> </div><div style="text-align:right; float:right"> <STRONG>mutual evaluation</STRONG></div><br>
<A name="mutual evaluation"> </A>
<p>

<div style="text-align:left; float:left;"><STRONG>p ( expr [, expr]* ) </STRONG> </div><div style="text-align:right; float:right"> <STRONG>invocation</STRONG></div><br>
<A name="invocation"> </A>
<p>

By themselves, <A name="parentheses"> </A>parentheses are used
to override operator precedence in surrounding expressions. A
comma-separated list of expressions is evaluated left to right, and
fails if any operand fails. Its value is the right of the rightmost
operand.
<p>
When preceded by an operand, parentheses form an
<A name="call, procedure"> </A>invocation. The operand may be a procedure,
a method, a string that is converted to a procedure name, or an integer
that selects the parameter to use as the result of the entire expression.
<p>
<p><hr />
<p>

<div style="text-align:left; float:left;"><STRONG><b>[</b> <b>]</b> </STRONG> </div><div style="text-align:right; float:right"> <STRONG>empty list creation</STRONG></div><br>
<A name="empty list"> </A>
<p>

<div style="text-align:left; float:left;"><STRONG><b>[</b> expr [, expr]* <b>]</b> </STRONG> </div><div style="text-align:right; float:right"> <STRONG>list creation</STRONG></div><br>
<A name="list creation"> </A>
<p>

<div style="text-align:left; float:left;"><STRONG><b>[:</b> expr <b>:]</b> </STRONG> </div><div style="text-align:right; float:right"> <STRONG>list comprehension</STRONG></div><br>
<A name="list creation"> </A>
<p>

<div style="text-align:left; float:left;"><STRONG>expr1 <b>[</b> expr2 [, expr]* <b>]</b> </STRONG> </div><div style="text-align:right; float:right"> <STRONG>subscript</STRONG></div><br>
<A name="subscript"> </A>
<p>

<div style="text-align:left; float:left;"><STRONG>expr1 <b>[</b> expr2 : expr3 <b>]</b> </STRONG> </div><div style="text-align:right; float:right"> <STRONG>subsection</STRONG></div><br>
<A name="slice"> </A><A name="subsection"> </A>
<p>

<div style="text-align:left; float:left;"><STRONG>expr1 <b>[</b> expr2 +: expr3 <b>]</b> </STRONG> </div><div style="text-align:right; float:right"> <STRONG>forward relative subsection</STRONG></div><br>
<p>

<div style="text-align:left; float:left;"><STRONG>expr1 <b>[</b> expr2 -: expr3 <b>]</b> </STRONG> </div><div style="text-align:right; float:right"> <STRONG>backward relative subsection</STRONG></div><br>
<p>

With no preceding operand, square brackets create and initialize lists.
Initializer values are comma-separated, except in list comprehension
where the expression's values (obtained as if by <b>every</b>) are used
to provide the initial list elements.
When preceded by an operand, square brackets form a subscript or
subsection. Multiple comma-separated subscript operands are equivalent
to separate subscript operations with repeating square brackets, so
<code>x[y,z]</code> is equivalent to <code>x[y][z]</code>.
<p>
Subscripting selects an element from a structure and allows that element
to be assigned or for its value to be used. Lists and strings are
subscripted using 1-based integer indices, tables are subscripted using
arbitrary keys, and records may be subscripted by either string
fieldname or 1-based integer index. Message connections may be
subscripted by string header to obtain server responses; POP
connections may also be subscripted by 1-based integer message numbers.
<p>
Subsectioning works on strings and lists. For strings, the subsection is
a variable if the string was a variable, and
<A name="assignment!substring"> </A>assignment to the subsection makes the
<A name="variable"> </A>
variable hold the new, modified string constructed by replacing the subsection.
For lists, a subsection is a new
list that contains a copy of the elements from the original list.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>expr1 ; expr2 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>bound expression</STRONG></div><br>
<p>

A semicolon bounds <code>expr1</code>. Once <code>expr2</code> is entered,
<code>expr1</code> cannot be resumed for more results. The result of
<code>expr2</code> is the result of the entire expression.
<A name="semicolon insertion"> </A>Semicolons are automatically
inserted at ends of lines wherever it is syntactically
allowable to do so. This results in many <em>implicitly</em>
<A name="bounded expressions"> </A><em>bounded</em> expressions.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>{ expr [; expr]* } </STRONG> </div><div style="text-align:right; float:right"> <STRONG>compound expression</STRONG></div><br>
<A name="compound expression"> </A>
<p>

<div style="text-align:left; float:left;"><STRONG>p { expr [; expr]* } </STRONG> </div><div style="text-align:right; float:right"> <STRONG>programmer defined control structure</STRONG></div><br>
<A name="programmer defined control structure"> </A>
<A name="control structure!programmer defined"> </A>
<p>

Curly brackets typically cause a sequence
of bounded expressions to be treated as a single expression. Preceded
by a procedure value, curly brackets introduce a programmer defined
control structure in which a co-expression is created for each
argument; the procedure is called with these co-expressions as its
parameters, and can determine for itself whether, and in what order, to
activate its parameters to obtain values.
<p>
<H3>Built-in functions</H3>
<p>
Unicon's <A name="built-in functions"> </A>built-in functions
are a key element of its ease of learning and use. They provide
substantial functionality in a consistent and easily memorized manner.
<p>
In addition to automatic type conversion, built-in functions make
extensive use of optional parameters with default values. Default
values are indicated in the function descriptions, with the exception
of string scanning functions.
<A name="default parameters!string scanning functions"> </A>String scanning
functions end with three parameters that
default to the string <code>&amp;subject</code>, the integer <code>&amp;pos</code>,
and the end of string (0) respectively. The position argument defaults
to 1 when the string argument is supplied rather than defaulted.
<p>
<p>
<hr />
<A name="abs"> </A>

<div style="text-align:left; float:left;"><STRONG>abs(N) : number</STRONG> </div><div style="text-align:right; float:right"> <STRONG>absolute value</STRONG></div><br>
<p>

<A name="absolute value"> </A><code>abs(N)</code> produces the maximum of
<code>N</code> or <code>-N</code>.
<p>
<p>
<hr />
<A name="acos"> </A>

<div style="text-align:left; float:left;"><STRONG>acos(r) : real</STRONG> </div><div style="text-align:right; float:right"> <STRONG>arc cosine</STRONG></div><br>
<p>

<A name="arc cosine"> </A><code>acos(r)</code> produces the arc cosine of
<code>r</code>. The argument is given in radians.
<p>
<p>
<hr />
<A name="any"> </A>

<div style="text-align:left; float:left;"><STRONG>any(c, s, i, i) : integer? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>cset membership</STRONG></div><br>
<p>

<A name="any()"> </A><A name="cset membership"> </A>String scanning function
<code>any(c,s,i1,i2)</code> produces <code>i1+1</code> if <code>s[i1:i2][1]</code>
is in cset <code>c</code>, but fails otherwise.
<p>
<p>
<hr />
<A name="args"> </A>

<div style="text-align:left; float:left;"><STRONG>args(x,i) : any </STRONG> </div><div style="text-align:right; float:right"> <STRONG>number of arguments</STRONG></div><br>
<p>

<A name="args(p)"> </A><code>args(p)</code> produces the number of arguments
expected by procedure <code>p</code>. If <code>p</code> takes a variable number
of arguments, <code>args(p)</code> returns a negative number to indicate
that the final argument is a list conversion of an arbitrary number of
arguments. For example, <code>args(p)</code> for a procedure <code>p</code>
with formal parameters <code>(x, y, z[ ])</code> returns a <code>-3</code>.
<code>args(C)</code> produces the number of arguments in the current
operation in co-expression <code>C</code>, and <code>args(C,i)</code> produces
argument number <code>i</code> within co-expression <code>C</code>.
<p>
<p>
<hr />
<A name="asin"> </A>

<div style="text-align:left; float:left;"><STRONG>asin(real) : real </STRONG> </div><div style="text-align:right; float:right"> <STRONG>arc sine</STRONG></div><br>
<p>

<A name="arc sine"> </A><code>asin(r1)</code> produces the arc sine of <code>r1</code>.
The argument is given in radians.
<p>
<p>
<hr />
<A name="atan"> </A>

<div style="text-align:left; float:left;"><STRONG>atan(r, r:1.0) : real </STRONG> </div><div style="text-align:right; float:right"> <STRONG>arc tangent</STRONG></div><br>
<p>

<A name="arc tangent"> </A><code>atan(r1)</code> produces the arc tangent of
<code>r1</code>. <code>atan(r1,r2)</code> produces the arc tangent of
<code>r1</code> and <code>r2</code>. Arguments are given in radians.
<p>
<p>
<hr />
<A name="atanh"> </A>

<div style="text-align:left; float:left;"><STRONG>atanh(r) : real </STRONG> </div><div style="text-align:right; float:right"> <STRONG>inverse hyperbolic tangent</STRONG></div><br>
<p>

<A name="inverse hyperbolic tangent"> </A><code>atanh(r)</code> produces the inverse
hyperbolic tangent of <code>r</code>. Arguments are given in radians.
<p>
<p>
<hr />
<A name="bal"> </A>

<div style="text-align:left; float:left;"><STRONG>bal(cs:&amp;cset, cs:'(', cs:')', s, i, i) : integer* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>balance string</STRONG></div><br>
<p>

<A name="balance string"> </A><A name="string!balance"> </A>String scanning function
<code>bal(c1,c2,c3,s,i1,i2)</code> generates the integer positions in
<code>s</code> at which a member of <code>c1</code> in <code>s[i1:i2]</code> is
balanced with respect to characters in <code>c2</code> and <code>c3</code>.
<p>
<p>
<hr />
<A name="center"> </A>

<div style="text-align:left; float:left;"><STRONG>center(s, i:1, s:" ") : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>center string</STRONG></div><br>
<p>

<A name="center()"> </A><A name="string!center"> </A><code>center(s1,i,s2)</code> produces a
string of <code>i</code> characters. If <code>i &gt; *s1</code> then
<code>s1</code> is padded equally on the left and right with <code>s2</code> to
length <code>i</code>. If <code>i &lt; *s1</code> then the center
<code>i</code> characters of <code>s1</code> are produced.
<p>
<p>
<hr />
<A name="channel"> </A>

<div style="text-align:left; float:left;"><STRONG>channel(TH) : list </STRONG> </div><div style="text-align:right; float:right"> <STRONG>communicationsl channel</STRONG></div><br>
<p>

<A name="channel"> </A><code>channel(TH)</code> creates a communications channel
between the current thread and thread <EM>TH</EM>.
<p>
<p>
<hr />
<A name="char"> </A>

<div style="text-align:left; float:left;"><STRONG>char(i) : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>encode character</STRONG></div><br>
<p>

<A name="character"> </A><code>char(i)</code> produces a string consisting of the
character encoded by integer <code>i</code>.
<p>
<p>
<hr />
<A name="chdir"> </A>

<div style="text-align:left; float:left;"><STRONG>chdir(s) : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>change directory</STRONG></div><br>
<p>

<A name="directory"> </A><A name="chdir()"> </A><code>chdir(s)</code>
changes the current working directory to <code>s</code>.
<code>chdir()</code> returns the current working directory.
The current working directory is shared between threads.

<p>
<p>
<hr />
<A name="chmod"> </A>

<div style="text-align:left; float:left;"><STRONG>chmod(f, m) : ? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>file permissions</STRONG></div><br>
<p>

<A name="permissions, file"> </A>
<A name="file!permissions"> </A><A name="chmod()"> </A><code>chmod(f, m)</code>
sets the access permissions ("mode") of
a string filename (or on UNIX systems, an open file) <code>f</code> to a
string or integer mode <code>m</code>. The mode indicates the change to be
performed. The string is of the form
<p>
<PRE>
   [ugoa]*[+-=][rwxRWXstugo]* </PRE>
<p>
The first group describes the set of mode bits to be changed: <code>u</code>
is the owner set, <code>g</code> is the group and <code>o</code> is the set of
all others. The character <code>a</code> designates all the fields. The
operator (<code>+-=</code>) describes the operation to be performed:
<code>+</code> adds a permission, <code>-</code> removes a permission, and
<code>=</code> sets a permission. The permissions themselves are:
<p>
          <code>r</code>                 read<br>
         <code>w</code>               write<br>
         <code>x</code>                 execute<br>
         <code>R</code>               read if any other set already has
r<br>
         <code>W</code>             write if any other set already has
w<br>
         <code>X</code>               execute if any other set already has
x<br>
         <code>s</code>                 setuid (if the first part contains u
and/or setgid if the first part contains g<br>
         <code>t</code>                 sticky if the first part has
o<br>
         <code>u</code>               the u bits on the same file<br>
         <code>g</code>               the g bits on the same file<br>
         <code>o</code>               the o bits on the same file
<p>
If the first group is missing, then it is treated as
"all" except that any bits in the
user's umask will not be modified in the mode. Not all
platforms make use of all mode bits described here; the mode bits that
are used is a property of the filesystem on which the file resides.
<p>
<p>
<hr />
<A name="classname"> </A>

<div style="text-align:left; float:left;"><STRONG>classname(r) : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>class name</STRONG></div><br>
<p>

<code>classname(r)</code> produces the name of <code>r</code>'s
class.
<p>
<p>
<hr />
<A name="close"> </A>

<div style="text-align:left; float:left;"><STRONG>close(f) : file | integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>close file</STRONG></div><br>
<p>

<A name="file!close"> </A><A name="close file"> </A><code>close(f)</code> closes file, pipe,
window, network or message connection, or <A name="database"> </A>database f
and returns any resources associated with it to the operating system.
If f was a window, close(f) causes it to disappear, but the window can
still be written to and copied from until all open bindings are closed.
If f was a pipe or network connection, close() returns the integer exit
status of the connection, otherwise it returns the closed file.
<p>
<p>
<hr />
<A name="cofail"> </A>

<div style="text-align:left; float:left;"><STRONG>cofail(CE) : any </STRONG> </div><div style="text-align:right; float:right"> <STRONG>transmit co-expression failure</STRONG></div><br>
<p>

<A name="fail!co-expression"> </A><A name="co-expression"> </A><code>cofail(ce)</code> activates
co-expression ce, transmitting failure instead of a result.
<p>
<p>
<hr />
<A name="collect"> </A>

<div style="text-align:left; float:left;"><STRONG>collect(i:0, i:0) : null </STRONG> </div><div style="text-align:right; float:right"> <STRONG>collect garbage</STRONG></div><br>
<p>

<A name="collect garbage"> </A><code>collect(i1,i2)</code> calls the
<A name="garbage collector"> </A>garbage collector to ensure that i2 bytes
are free in region i1. i1 can be 0 (no region in particular)
1 (static region) 2 (string region) or 3 (block region).
<p>
<p>
<hr />
<A name="condvar"> </A>

<div style="text-align:left; float:left;"><STRONG>condvar() : condition variable </STRONG> </div><div style="text-align:right; float:right"> <STRONG>create condition variable</STRONG></div><br>
<p>

<A name="condition variable"> </A>condvar() creates
a new condition variable.
<p>
<p>
<hr />
<A name="constructor"> </A>

<div style="text-align:left; float:left;"><STRONG>constructor(s, ...) : procedure </STRONG> </div><div style="text-align:right; float:right"> <STRONG>record constructor</STRONG></div><br>
<p>

<A name="record constructor"> </A><code>constructor(label, field, field, ...)</code>
creates a new record type named <code>label</code> with fields named by its
subsequent arguments, and returns a constructor procedure for this
record type.
<p>
<p>
<hr />
<A name="copy"> </A>

<div style="text-align:left; float:left;"><STRONG>copy(any) : any </STRONG> </div><div style="text-align:right; float:right"> <STRONG>copy value</STRONG></div><br>
<p>

<A name="copy(x)"> </A><code>copy(x)</code> produces a copy of x. For immutable types
(numbers, strings, csets, procedures) this is a no-op. For mutable
types (lists, tables, sets, records, objects) a one-level deep copy of
the object is made.
<p>
<p><hr />
<A name="cos"> </A>

<div style="text-align:left; float:left;"><STRONG>cos(r) : real </STRONG> </div><div style="text-align:right; float:right"> <STRONG>cosine</STRONG></div><br>
<p>

<A name="cosine"> </A><code>cos(r)</code> produces the cosine of r. The argument
is given in radians.
<p>
<p><hr />
<A name="cset"> </A>

<div style="text-align:left; float:left;"><STRONG>cset(any) : cset? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>convert to cset</STRONG></div><br>
<p>

<A name="convert!to cset"> </A><code>cset(x)</code> converts x to a cset, or fails if the
conversion cannot be performed.
<p>
<p><hr />
<A name="ctime"> </A>

<div style="text-align:left; float:left;"><STRONG>ctime(i) : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>format a time value into local time </STRONG></div><br>
<p>

<A name="local time"> </A><A name="ctime(i)"> </A><code>ctime(i)</code> converts an integer time
given in seconds since the epoch, Jan 1, 1970 00:00:00 into a string in
the local timezone. See also keywords &amp;clock and &amp;dateline.
<p>
<p><hr />
<A name="dbcolumns"> </A>

<div style="text-align:left; float:left;"><STRONG>dbcolumns(D,s) : list </STRONG> </div><div style="text-align:right; float:right"> <STRONG>ODBC column information</STRONG></div><br>
<p>

<A name="column!ODBC"> </A><code>dbcolumns(db, tablename)</code> produces a list of record
(catalog, schema, tablename, colname, datatype, typename, colsize,
buflen, decdigits, numprecradix, nullable, remarks) entries. Fields
<code>datatype</code> and <code>typename</code> are SQL-dependent and data
source dependent, respectively. Field <code>colsize</code> gives the
maximum length in characters for SQL_CHAR or SQL_VARCHAR columns..
Field <code>decdigits</code> gives the number of significant digits right
of the decimal. Field <code>numprecradix</code> specifies whether
<code>colsize</code> and <code>decdigits</code> are specified in bits or
decimal digits. Field <code>nullable</code> is 0 if the column does not
accept null values, 1 if it does accept null values, and 2 if it is not
known whether the column accepts null values.
<p>
<p><hr />
<A name="dbdriver"> </A>

<div style="text-align:left; float:left;"><STRONG>dbdriver(D) : record </STRONG> </div><div style="text-align:right; float:right"> <STRONG>ODBC driver information</STRONG></div><br>
<p>

<A name="ODBC driver"> </A><code>dbdriver(db)</code> produces a record driver(name, ver,
odbcver, connections, statements, dsn) that describes the details of
the <A name="ODBC"> </A>ODBC driver used to connect to database db. Connections
and statements are the maximums the driver can support. Fields
<code>ver</code> and <code>odbcver</code> are the driver and ODBC version
numbers. Fields <code>name</code> and <code>dsn</code> are the driver filename
and Windows Data Source Name associated with the connection.
<p>
<p><hr />
<A name="dbkeys"> </A>

<div style="text-align:left; float:left;"><STRONG>dbkeys(D,string) : list </STRONG> </div><div style="text-align:right; float:right"> <STRONG>ODBC key information</STRONG></div><br>
<p>

<A name="key!ODBC"> </A><code>dbkeys(db,tablename)</code> produces a list of record
(columnname, sequencenumber) pairs containing information about the
primary keys in tablename.
<p>
<p><hr />
<A name="dblimits"> </A>

<div style="text-align:left; float:left;"><STRONG>dblimits(D) : record </STRONG> </div><div style="text-align:right; float:right"> <STRONG>ODBC operation limits</STRONG></div><br>
<p>

<code>dblimits(db)</code> produces a record with fields <code>maxbinlitlen</code>,
<code>maxcharlitlen, maxcolnamelen, maxgroupbycols, maxorderbycols</code>,
<code>maxindexcols, maxselectcols, maxtblcols, maxcursnamelen, maxindexsize</code>,
<code>maxrownamelen, maxprocnamelen, maxqualnamelen, maxrowsize</code>,
<code>maxrowsizelong, maxstmtlen, maxtblnamelen, maxselecttbls</code>, and
<code>maxusernamelen</code> that contains the upper bounds of the database
for many parameters.
<p>
<p><hr />
<A name="dbproduct"> </A>

<div style="text-align:left; float:left;"><STRONG>dbproduct(D) : record </STRONG> </div><div style="text-align:right; float:right"> <STRONG>database name</STRONG></div><br>
<p>

<code>dbproduct(db)</code> produces a record (name, ver) that gives the name and the
version of the DBMS product containing db.
<p>
<p><hr />
<A name="dbtables"> </A>

<div style="text-align:left; float:left;"><STRONG>dbtables(D) : list </STRONG> </div><div style="text-align:right; float:right"> <STRONG>ODBC table information</STRONG></div><br>
<p>

<code>dbtables(db)</code> returns a list of record (qualifier, owner, name, type,
remarks) entries that describe all of the tables in the database
associated with db.
<p>
<p><hr />
<A name="delay"> </A>

<div style="text-align:left; float:left;"><STRONG>delay(i) : null </STRONG> </div><div style="text-align:right; float:right"> <STRONG>delay for i milliseconds</STRONG></div><br>
<p>

<A name="delay(i)"> </A><code>delay(i)</code> pauses the program for at least i milliseconds.
<p>
<p><hr />
<A name="delete"> </A>

<div style="text-align:left; float:left;"><STRONG>delete(x1, x2, ...) : x1 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>delete element</STRONG></div><br>
<p>

<A name="delete element"> </A><code>delete(x1, x2)</code> deletes elements denoted by the
2<sup>nd</sup> and following parameters from set, table, list,
DBM database, or POP connection x1 if it is there. In any case, it
returns x1. If x1 is a table or set, elements x<sub>i</sub> denote
keys of arbitrary type. If x1 is a DBM database, indices must be
strings. If x1 is a list or a POP messaging connection, elements xi are
integer indices of the element to be deleted. POP messages are actually
deleted when the close() operation closes that connection.
<p>
<p><hr />
<A name="detab"> </A>

<div style="text-align:left; float:left;"><STRONG>detab(string, integer:9,...) : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>replace tabs</STRONG></div><br>
<p>

<code>detab(s,i,...)</code> replaces tabs with spaces, with stops at columns
indicated by the second and following parameters, which must all be
integers. Tab stops are extended infinitely using the interval between
the last two specified tab stops.
<p>
<p><hr />
<A name="display"> </A>

<div style="text-align:left; float:left;"><STRONG>display(i:&amp;level, f:&amp;errout, CE:&amp;current) : null </STRONG> </div><div style="text-align:right; float:right"> <STRONG>write variables</STRONG></div><br>
<p>

<A name="display(i,f)"> </A><code>display(i,f)</code> writes the local variables
of <code>i</code> most recent procedure activations, plus global
variables, to file <code>f</code>.
<p>
<p><hr />
<A name="dtor"> </A>

<div style="text-align:left; float:left;"><STRONG>dtor(r) : real </STRONG> </div><div style="text-align:right; float:right"> <STRONG>convert degrees to radians</STRONG></div><br>
<p>

<A name="convert!degrees to radians"> </A><A name="dtor(r)"> </A><code>dtor(r)</code>
produces the equivalent of <code>r</code> degrees, expressed in radians.
<p>
<p><hr />
<A name="entab"> </A>

<div style="text-align:left; float:left;"><STRONG>entab(s, i:9,...) : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>replace spaces</STRONG></div><br>
<p>

<code>entab(s,i,...)</code> replaces spaces with tabs, with stops at columns
indicated. Tab stops are extended infinitely using the interval between
the last two specified tab stops.
<p>
<p><hr />
<A name="errorclear"> </A>

<div style="text-align:left; float:left;"><STRONG>errorclear() : null </STRONG> </div><div style="text-align:right; float:right"> <STRONG>clear error condition</STRONG></div><br>
<p>

<A name="errorclear()"> </A><code>errorclear()</code> resets keywords &amp;errornumber,
&amp;errortext, and &amp;errorvalue to indicate that no error is present.
<p>
<p><hr />
<A name="eventmask"> </A>

<div style="text-align:left; float:left;"><STRONG>eventmask(CE, cset) : cset | null </STRONG> </div><div style="text-align:right; float:right"> <STRONG>                 get/set event mask</STRONG></div><br>
<p>

<A name="eventmask(ce)"> </A><code>eventmask(ce)</code> returns the event mask associated
with the program that created ce, or &amp;null if there is no event mask.
eventmask(ce,cs) sets that program's event mask to cs.
<p>
<p><hr />
<A name="EvGet"> </A>

<div style="text-align:left; float:left;"><STRONG>EvGet(c, flag) : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>get event from monitored program</STRONG></div><br>
<p>

<code>EvGet(c,flag)</code> activates a program being monitored until an event
in cset mask <code>c</code> occurs. Under normal circumstances this is a
one-character string event code.
<p>
<p><hr />
<A name="EvSend"> </A>

<div style="text-align:left; float:left;"><STRONG>EvSend(i, x, CE) : any </STRONG> </div><div style="text-align:right; float:right"> <STRONG>transmit event</STRONG></div><br>
<p>

<A name="EvSend(x, y, C)"> </A><code>EvSend(x, y, C)</code> transmits an event with event
code <code>x</code> and event value <code>y</code> to a monitoring
co-expression <code>C</code>.
<p>
<p><hr />
<A name="exit"> </A>

<div style="text-align:left; float:left;"><STRONG>exit(i:normalexit) </STRONG> </div><div style="text-align:right; float:right"> <STRONG>exit process</STRONG></div><br>
<p>

<A name="exit(i)"> </A><code>exit(i)</code> terminates the current program execution,
returning status code <code>i</code>. The default is the platform-dependent exit
code that indicates normal termination (0 on most systems).
<p>
<p><hr />
<A name="exp"> </A>

<div style="text-align:left; float:left;"><STRONG>exp(r) : real </STRONG> </div><div style="text-align:right; float:right"> <STRONG>exponential</STRONG></div><br>
<p>

<A name="exponential, exp(r)"> </A><code>exp(r)</code> produces the result of &amp;e ^ r.
<p>
<p><hr />
<A name="fetch"> </A>

<div style="text-align:left; float:left;"><STRONG>fetch(D, s?) : string | row? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>fetch database value</STRONG></div><br>
<p>

<A name="fetch(d, k)"> </A><code>fetch(d, k)</code> fetches the value
corresponding to key <code>k</code> from a <A name="DBM"> </A>DBM or
<A name="SQL!fetch"> </A>SQL database <code>d</code>. The result is
a string (for DBM databases) or a row (for SQL databases). For SQL
databases, when the string <code>k</code> is omitted,
<code>fetch(d)</code> produces the next row
in the current selection, and advances the cursor to the next row. A
row is a record whose field names and types are determined by the
columns specified in the current query. <code>fetch(d)</code> fails if there are no
more rows to return from the current query. Typically a call to
<code>dbselect()</code> will be followed by a while-loop that calls
<code>fetch()</code> repeatedly until it fails.
<p>
<p><hr />
<A name="fieldnames"> </A>

<div style="text-align:left; float:left;"><STRONG>fieldnames(R) : string* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>get field names</STRONG></div><br>
<p>

<A name="fieldnames(r)"> </A><code>fieldnames(r)</code> produces the names of the fields in
record <code>r</code>.
<p>
<p><hr />
<A name="find"> </A>

<div style="text-align:left; float:left;"><STRONG>find(s, s, i, i) : integer* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>find string</STRONG></div><br>
<p>

<A name="find string"> </A>String scanning function <code>find(s1,s2,i1,i2)</code> generates
the positions in <code>s2</code> at which <code>s1</code> occurs as a
substring in <code>s2[i1:i2]</code>.
<p>
<p><hr />
<A name="flock"> </A>

<div style="text-align:left; float:left;"><STRONG>flock(f, s) : ? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>apply or remove file lock</STRONG></div><br>
<p>

<A name="file!lock"> </A><A name="flock(f,s)"> </A><code>flock(f,s)</code> applies an advisory
<A name="lock, file"> </A>lock to the file. Advisory locks enable processes to
cooperate when accessing a shared file, but do not enforce exclusive
access. The following characters can be used to make up the operation
string:
<p>
          s               shared lock<br>
         x               exclusive lock<br>
         b               don't block when
locking<br>
         u               unlock
<p>
Locks cannot be applied to windows, directories or database files. A
file may not simultaneously have shared and exclusive locks.
<p>
<p><hr />
<A name="flush"> </A>

<div style="text-align:left; float:left;"><STRONG>flush(f) : file </STRONG> </div><div style="text-align:right; float:right"> <STRONG>flush file</STRONG></div><br>
<p>

<A name="flush(f)"> </A><code>flush(f)</code> flushes all pending or buffered output
to file <code>f</code>.
<p>
<p><hr />
<A name="function"> </A>

<div style="text-align:left; float:left;"><STRONG>function() : string* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>name the functions</STRONG></div><br>
<p>

<code>function()</code> generates the names of the built-in functions.
<p>
<p><hr />
<A name="get"> </A>

<div style="text-align:left; float:left;"><STRONG>get(L,i:1) : any? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>get element from queue</STRONG></div><br>
<p>

<code>get(L)</code> returns an element which is removed from the head of the
<A name="queue"> </A>queue <code>L</code>. <code>get(L, i)</code> removes <code>i</code>
elements, returning the last one removed.
<p>
<p><hr />
<A name="getch"> </A>

<div style="text-align:left; float:left;"><STRONG>getch() : string? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>get character from console</STRONG></div><br>
<p>

<code>getch()</code> waits for (if necessary) and returns a character typed
at the <A name="keyboard"> </A>keyboard, even if standard input was redirected.
The character is not displayed.
<p>
<p><hr />
<A name="getche"> </A>

<div style="text-align:left; float:left;"><STRONG>getche() : string? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>get and echo character from console</STRONG></div><br>
<p>

<code>getche()</code> waits for (if necessary) and returns a character typed
at the console keyboard, even if standard input was redirected. The
character is echoed to the <A name="screen"> </A>screen.
<p>
<p><hr />
<A name="getenv"> </A>

<div style="text-align:left; float:left;"><STRONG>getenv(s) : string? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>get environment variable</STRONG></div><br>
<p>

<code>getenv(s)</code> returns the value of
<A name="environment variable"> </A>environment variable <code>s</code>
from the operating system.
<p>
<p><hr />
<A name="gettimeofday"> </A>

<div style="text-align:left; float:left;"><STRONG>gettimeofday() : record </STRONG> </div><div style="text-align:right; float:right"> <STRONG>time of day</STRONG></div><br>
<p>

<A name="time!of day"> </A>Returns the current time in seconds and microseconds
since the epoch, Jan 1, 1970 00:00:00. The <code>sec</code> value may be
converted to a date string with ctime or gtime. See also keywords
<code>&amp;now</code>, <code>&amp;clock</code>, and <code>&amp;dateline</code>. Return
value: <code>record posix_timeval(sec, usec)</code>
<p>
<p><hr />
<A name="globalnames"> </A>

<div style="text-align:left; float:left;"><STRONG>globalnames(CE) : string* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>name the global variables</STRONG></div><br>
<p>

<A name="global"> </A><code>globalnames(ce)</code> generates the names of the global
variables in the program that created co-expression <code>ce</code>.
<p>
<p><hr />
<A name="gtime"> </A>

<div style="text-align:left; float:left;"><STRONG>gtime(i) : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>format a time value into UTC </STRONG></div><br>
<p>

Converts an integer time in seconds since the epoch, Jan 1, 1970
00:00:00 into a string in Coordinated Universal Time (UTC).
<p>
<p><hr />
<A name="iand"> </A>

<div style="text-align:left; float:left;"><STRONG>iand(i, i) : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>bitwise and</STRONG></div><br>
<p>

<A name="bitwise and"> </A><code>iand(i1, i2)</code> produces the bitwise AND of
<code>i1</code> and <code>i2</code>.
<p>
<p><hr />
<A name="icom"> </A>

<div style="text-align:left; float:left;"><STRONG>icom(i) : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>bitwise complement</STRONG></div><br>
<p>

<code>icom(i)</code> produces the bitwise complement (one's
complement) of <code>i</code>.
<p>
<p><hr />
<A name="image"> </A>

<div style="text-align:left; float:left;"><STRONG>image(any) : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>string image</STRONG></div><br>
<p>

<A name="image(x)"> </A><code>image(x)</code> returns the string image of the value
<code>x</code>.
<p>
<p><hr />
<A name="insert"> </A>

<div style="text-align:left; float:left;"><STRONG>insert(x1, x2, x3:&amp;null) : x1 </STRONG> </div><div style="text-align:right; float:right"> <STRONG>insert element</STRONG></div><br>
<p>

<code>insert(x1, x2, x3)</code> inserts element <code>x2</code> into set, table,
or list or DBM database <code>x1</code> if not already there. Unless
<code>x1</code> is a set, the assigned value for element <code>x2</code> is
<code>x3</code>. For lists, <code>x2</code> is an integer index; for other
types, it is a key. <A name="insert()"> </A><code>insert()</code> always succeeds
and returns <code>x1</code>.
<p>
<p><hr />
<A name="integer"> </A>

<div style="text-align:left; float:left;"><STRONG>integer(any) : integer? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>convert to integer</STRONG></div><br>
<p>

<A name="convert!to integer"> </A><code>integer(x)</code> converts value <code>x</code>
to an integer, or fails if the conversion cannot be performed.
<p>
<p><hr />
<A name="ior"> </A>

<div style="text-align:left; float:left;"><STRONG>ior(i, i) : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>bitwise or</STRONG></div><br>
<p>

<A name="bitwise or"> </A><code>ior(i1, i2)</code> produces the bitwise OR of
<code>i1</code> and <code>i2</code>.
<p>
<p><hr />
<A name="ishift"> </A>

<div style="text-align:left; float:left;"><STRONG>ishift(i, i) : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>bitwise shift</STRONG></div><br>
<p>

<A name="shift"> </A><code>ishift(i, j)</code> produces the value obtained by
shifting <code>i</code> by <code>j</code> bit positions. Shifting is to the
left if <code>j&gt;0</code>, or to the right if
<code>j&lt;0</code>. <code>j</code> zero bits are introduced at the
end opposite the shift direction.
<p>
<p><hr />
<A name="istate"> </A>

<div style="text-align:left; float:left;"><STRONG>istate(CE, s) : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>interpreter state</STRONG></div><br>
<p>

<code>istate(ce, attrib)</code> reports selected virtual machine interpreter
state information. <code>attrib</code> must be one of:
<code>"count"</code>,
<code>"ilevel"</code>,
<code>"ipc"</code>,
<code>"ipc_offset"</code>,
<code>"sp"</code>,
<code>"efp"</code>,
<code>"gfp"</code>. Used by monitors.
<p>
<p><hr />
<A name="ixor"> </A>

<div style="text-align:left; float:left;"><STRONG>ixor(i, i) : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>bitwise xor</STRONG></div><br>
<p>

<code>ixor(i1, i2)</code> produces the bitwise <A name="exclusive or"> </A>exclusive
or of <code>i1</code> and <code>i2</code>.
<p>
<p><hr />
<A name="kbhit"> </A>

<div style="text-align:left; float:left;"><STRONG>kbhit() : ? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>check for console input</STRONG></div><br>
<p>

<A name="kbhit()"> </A><code>kbhit()</code> checks to see if there is a
<A name="keyboard"> </A>keyboard character waiting to be read.
<p>
<p><hr />
<A name="key"> </A>

<div style="text-align:left; float:left;"><STRONG>key(x) : any* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>table keys</STRONG></div><br>
<p>

<A name="key(x)"> </A><code>key(T)</code> generates the key (entry) values from
table <code>T</code>. <code>key(L)</code> generates the indices from 1 to
<code>*L</code> in list <code>L</code>. <code>key(R)</code> generates the string
field names of record <code>R</code>.
<p>
<p><hr />
<A name="keyword"> </A>

<div style="text-align:left; float:left;"><STRONG>keyword(s,CE:&amp;current,i:0) : any* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>produce keyword value</STRONG></div><br>
<p>

<A name="keyword()"> </A><code>keyword(s,ce,i)</code> produces the value of keyword
<code>s</code> in the context of <code>ce</code>'s execution,
<code>i</code> levels up in the stack from the current point of execution.
Used in execution monitors.
<p>
<p><hr />
<A name="left"> </A>

<div style="text-align:left; float:left;"><STRONG>left(s, i:1, s:" ") : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>left format string</STRONG></div><br>
<p>

<A name="left()"> </A><code>left(s1,i,s2)</code> formats <code>s1</code> to be a string
of length <code>i</code>. If <code>s1</code> is more than <code>i</code>
characters, it is truncated. If <code>s1</code> is fewer than <code>i</code>
characters it is padded on the right with as many copies of <code>s2</code>
as needed to increase it to length <code>i</code>.
<p>
<p><hr />
<A name="list"> </A>

<div style="text-align:left; float:left;"><STRONG>list(integer:0, any:&amp;null) : list </STRONG> </div><div style="text-align:right; float:right"> <STRONG>create list</STRONG></div><br>
<p>

<A name="list(i, x)"> </A><code>list(i, x)</code> creates a list of size <code>i</code>,
in which all elements have the initial value <code>x</code>. If <code>x</code>
is a mutable value such as a list, all elements refer to the
<em>same</em> value, not a separate copy of the value for each element.
<p>
<p><hr />
<A name="load"> </A>

<div style="text-align:left; float:left;"><STRONG>load(s,L,f:&amp;input,f:&amp;output,f:&amp;errout,i,i,i) : co-expression </STRONG> </div><div style="text-align:right; float:right"> <STRONG>load Unicon program</STRONG></div><br>
<p>

<A name="load!Unicon program"> </A>
<A name="load()"> </A>
<code>load(s,arglist,input,output,error,blocksize,stringsize,stacksize)</code>
loads the icode file named <code>s</code> and returns that
program's execution as a co-expression ready to start
its <code>main()</code> procedure with parameter <code>arglist</code> as its
command line arguments. The three file parameters are used as that
program's <code>&amp;input</code>, <code>&amp;output</code>, and
<code>&amp;errout</code>. The three integers are used as its initial memory
region sizes.
<p>
<p><hr />
<A name="loadfunc"> </A>

<div style="text-align:left; float:left;"><STRONG>loadfunc(s, s) : procedure </STRONG> </div><div style="text-align:right; float:right"> <STRONG>load C function</STRONG></div><br>
<p>

<A name="load!C function"> </A><code>loadfunc(filename,funcname)</code> dynamically
loads a compiled C function from the object library file given by
<code>filename</code>. <code>funcname</code> must be a specially written
interface function that handles Icon data representations and calling
conventions.
<p>
<p><hr />
<A name="localnames"> </A>

<div style="text-align:left; float:left;"><STRONG>localnames(CE, i:0) : string* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>local variable names</STRONG></div><br>
<p>

<A name="local"> </A><A name="variable"> </A><code>localnames(ce,i)</code> generates the
names of local variables in co-expression <code>ce</code>, <code>i</code>
levels up from the current procedure invocation. The default i of 0
generates names in the currently active procedure in ce.
<p>
<p><hr />
<A name="lock"> </A>

<div style="text-align:left; float:left;"><STRONG>lock(x) : x </STRONG> </div><div style="text-align:right; float:right"> <STRONG>lock mutex</STRONG></div><br>
<p>

<A name="lock"> </A><code>lock(x)</code> locks the mutex <EM>x</EM> or the mutex
associated with thread-safe object <EM>x</EM>.
<p>
<p><hr />
<A name="log"> </A>

<div style="text-align:left; float:left;"><STRONG>log(r, r:&amp;e) : real </STRONG> </div><div style="text-align:right; float:right"> <STRONG>logarithm</STRONG></div><br>
<p>

<A name="logarithm"> </A><code>log(r1,r2)</code> produces the logarithm of
<code>r1</code> to base <code>r2</code>.
<p>
<p><hr />
<A name="many"> </A>

<div style="text-align:left; float:left;"><STRONG>many(c, s, i, i) : integer? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>many characters</STRONG></div><br>
<p>

<A name="many()"> </A>String scanning function <code>many(c,s,i1,i2)</code> produces
the position in <code>s</code> after the longest initial sequence of
members of <code>c</code> within <code>s[i1:i2]</code>.
<p>
<p><hr />
<A name="map"> </A>

<div style="text-align:left; float:left;"><STRONG>map(s, s:&amp;ucase, s:&amp;lcase) : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>map string</STRONG></div><br>
<p>

<A name="map string"> </A><code>map(s1,s2,s3)</code> maps <code>s1</code>, using
<code>s2</code> and <code>s3</code>. The resulting string will be a copy of
<code>s1</code>, with the exception that any of
<code>s1</code>'s characters that appear in <code>s2</code>
are replaced by characters at the same position in <code>s3</code>.
<p>
<p><hr />
<A name="match"> </A>

<div style="text-align:left; float:left;"><STRONG>match(s, s:&amp;subject, i:&amp;pos, i:0) : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>match string</STRONG></div><br>
<p>

<A name="match string"> </A>String scanning function <code>match(s1,s2,i1,i2)</code>
produces <code>i1+*s1</code> if <code>s1==s2[i1+:*s1]</code>, but fails
otherwise.
<p>
<p><hr />
<A name="max"> </A>

<div style="text-align:left; float:left;"><STRONG>max(n, ...) : number </STRONG> </div><div style="text-align:right; float:right"> <STRONG>largest value</STRONG></div><br>
<p>

<A name="max()"> </A><code>max(x, ...)</code> returns the largest value among its
arguments, which must be numeric.
<p>
<p><hr />
<A name="member"> </A>

<div style="text-align:left; float:left;"><STRONG>member(x, ...) : x? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>test membership</STRONG></div><br>
<p>

<A name="member()"> </A><code>member(x, ...)</code> returns <code>x</code> if its second
and subsequent arguments are all members of set, cset, list or table
<code>x</code> but fails otherwise. If <code>x</code> is a cset, all of the
characters in subsequent string arguments must be present in <code>x</code>
in order to succeed.
<p>
<p><hr />
<A name="membernames"> </A>

<div style="text-align:left; float:left;"><STRONG>membernames(x) : list </STRONG> </div><div style="text-align:right; float:right"> <STRONG>class member names</STRONG></div><br>
<p>

<code>membernames(x)</code> produces a list containing the string names of
the fields of x, where x is either an object or a string name of a
class.
<p>
<p><hr />
<A name="methodnames"> </A>

<div style="text-align:left; float:left;"><STRONG>methodnames(x) : list </STRONG> </div><div style="text-align:right; float:right"> <STRONG>class method names</STRONG></div><br>
<p>

<code>methodnames(x)</code> produces a list containing the string names of
the methods defined in class <code>x</code>, where <code>x</code> is either an
object or a string name of a class.
<p>
<p><hr />
<A name="methods"> </A>

<div style="text-align:left; float:left;"><STRONG>methods(x) : list </STRONG> </div><div style="text-align:right; float:right"> <STRONG>class method list</STRONG></div><br>
<p>

<code>methods(x)</code> produces a list containing the procedure values of
the methods of x, where x is either an object or a string name of a
class.
<p>
<p><hr />
<A name="min"> </A>

<div style="text-align:left; float:left;"><STRONG>min(n, ...) : number </STRONG> </div><div style="text-align:right; float:right"> <STRONG>smallest value</STRONG></div><br>
<p>

<A name="min()"> </A><code>min(x, ...)</code> returns the smallest value among its
arguments, which must be numeric.
<p>
<p><hr />
<A name="mkdir"> </A>

<div style="text-align:left; float:left;"><STRONG>mkdir(s, s?) : ? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>create directory</STRONG></div><br>
<p>

<A name="directory!create"> </A><A name="create!directory"> </A><A name="mkdir()"> </A>
<code>mkdir(path,mode)</code> creates a new directory named <code>path</code> with
mode <code>mode</code>. The optional <code>mode</code> parameter can be numeric or a
string of the form accepted by <code>chmod()</code>. The function succeeds
if a new directory is created.
<p>
<p><hr />
<A name="move"> </A>

<div style="text-align:left; float:left;"><STRONG>move(i:1) : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>move scanning position</STRONG></div><br>
<p>

<A name="move(i)"> </A><code>move(i)</code> moves <code>&amp;pos</code> <code>i</code>
characters from the current position and returns the substring of
<code>&amp;subject</code> between the old and new positions. This function
reverses its effects by resetting the position to its old value if it
is resumed.
<p>
<p><hr />
<A name="mutex"> </A>

<div style="text-align:left; float:left;"><STRONG>mutex(x,y) : x </STRONG> </div><div style="text-align:right; float:right"> <STRONG>create a mutex</STRONG></div><br>
<p>

<A name="mutex()"> </A><code>mutex()</code> creates a new mutex. For <code>mutex(x)</code>
associates the new mutex with structure <EM>x</EM>.
The call <CODE>mutex(x,y)</CODE> associates an existing mutex <em>y</em> (or
mutex associated with protected object <em>y</em>) with
structure <EM>x</EM>.
<p>
<p><hr />
<A name="name"> </A>

<div style="text-align:left; float:left;"><STRONG>name(v, CE:&amp;current) : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>variable name</STRONG></div><br>
<p>

<A name="name(v)"> </A><code>name(v)</code> returns the name of variable <code>v</code>
within the program that created co-expression <code>c</code>. Keyword
variables are recognized and named correctly. <code>name()</code> returns
the base type and subscript or field information for variables that are
elements within other values, but does not produce the source code
variable name for such variables.
<p>
<p><hr />
<A name="numeric"> </A>

<div style="text-align:left; float:left;"><STRONG>numeric(any) : number </STRONG> </div><div style="text-align:right; float:right"> <STRONG>convert to number</STRONG></div><br>
<p>

<A name="convert!to number"> </A><code>numeric(x)</code> produces an integer or real
number resulting from the type conversion of <code>x</code>, but fails if
the conversion is not possible.
<p>
<p><hr />
<A name="open"> </A>

<div style="text-align:left; float:left;"><STRONG>open(s, s:"rt", ...) : file? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>open file</STRONG></div><br>
<p>

<A name="open file"> </A><code>open(s1, s2, ...)</code> opens a file named
<code>s1</code> with mode <code>s2</code> and attributes given in trailing
arguments. The modes recognized by <code>open()</code> are:
<p>
          <code>"a"        </code>append; write
after current contents<br>
         <code>"b"        </code>open for both
reading and writing (b does not mean binary mode!)<br>
         <code>"c"        </code>create a new
file and open it<br>
         <code>"d"        </code>open a
[NG]<A name="DBM"> </A>DBM database<br>
         <code>"g"        </code>create a 2D
graphics window<br>
         <code>"gl"        </code>create a 3D
graphics window<br>
         <code>"n"        </code>connect to a
remote TCP network socket<br>
         <code>"na"        </code>accept a
connection from a TCP network socket <br>
         <code>"nau"    </code>accept a
connection from a UDP network socket<br>
         <code>"nl"        </code>listen on a
TCP network socket <br>
         <code>"nu"        </code>connect to a
UDP network socket<br>
         <code>"m"        </code>connect to a
messaging server (HTTP, SMTP, POP, ...)<br>
         <code>"o"        </code>open an
<A name="ODBC"> </A>ODBC connection to a (typically <A name="SQL"> </A>SQL)
database<br>
         <code>"p"        </code>execute a
program given by command line s1 and open a pipe to it<br>
         <code>"r"        </code>read<br>
         <code>"t"        </code>use text mode,
with newlines translated<br>
         <code>"u"        </code>use a binary
untranslated mode<br>
         <code>"w"        </code>write
<p>
Directories may only be opened for reading, and produce the names of all
files, one per line. Pipes may be opened for reading or writing, but
not both.
<p>
When opening a network socket: the first argument <code>s1</code> is the
name of the socket to connect. If <code>s1</code> is of the form
"s:i", it is an Internet domain socket on
host s and port i; otherwise, it is the name of a Unix
domain socket. If the host name is null, it represents the current
host. Mode "n" allows an optional third parameter,
an integer timeout (in milliseconds) after which <code>open()</code> fails
if no connection has been established by that time.
<p>
For a UDP socket, there is not really a connection, but any writes to
that file will send a datagram to that address, so that the address
doesn't have to be specified each time. Also,
<code>read()</code> or <code>reads()</code> cannot be performed on a UDP
socket; use receive. UDP sockets must be in the INET domain; the
address must have a colon.
<p>
For a DBM database, only one modifier character may be used: if
<code>s1</code> is <code>"dr"</code> it indicates that the database should be
opened in read-only mode.  For an ODBC database, following the mode
letter <code>"o"</code> comes an optional string default table name used
by functions such as <code>dbcolumns()</code>, followed by two generally
required strings giving the username and password authentication for the
connection.
<p>
The filename argument is a Uniform Resource Indicator (URI) when opening
a messaging connection. Arguments after the mode
"m" are sent as headers. The HTTP
User-Agent header defaults to "Unicon
Messaging/10.0" and Host defaults to the host and port
indicated in the URI. The SMTP From: header obtains its default from a
UNICON_USERADDRESS environment variable if it is present.
<p>
For 2D and 3D windows, attribute values may be specified in the
following arguments to <code>open()</code>. <code>open()</code> fails if a
window cannot be opened or an attribute cannot be set to a requested
value.
<p>
<p><hr />
<A name="opmask"> </A>

<div style="text-align:left; float:left;"><STRONG>opmask(CE, c) : cset </STRONG> </div><div style="text-align:right; float:right"> <STRONG>opcode mask</STRONG></div><br>
<p>

<code>opmask(ce)</code> gets <code>ce</code>'s
program's opcode mask. The function returns
<code>&amp;null</code> if there is no opcode mask. <code>opmask(ce,cs)</code> sets
<code>ce</code>'s program's opcode mask
to <code>cs</code>. This function is part of the execution monitoring
facilities.
<p>
<p><hr />
<A name="oprec"> </A>

<div style="text-align:left; float:left;"><STRONG>oprec(x) : record </STRONG> </div><div style="text-align:right; float:right"> <STRONG>get methods vector</STRONG></div><br>
<p>

<code>oprec(r)</code> produces a variable reference for
<code>r</code>'s class' methods vector.
<p>
<p><hr />
<A name="ord"> </A>

<div style="text-align:left; float:left;"><STRONG>ord(s) : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>ordinal value</STRONG></div><br>
<p>

<A name="ordinal value"> </A><code>ord(s)</code> produces the integer ordinal
(value) of <code>s</code>, which must be of size 1.
<p>
<p><hr />
<A name="paramnames"> </A>

<div style="text-align:left; float:left;"><STRONG>paramnames(CE, i:0) : string* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>parameter names</STRONG></div><br>
<p>

<A name="parameter names"> </A><code>paramnames(ce,i)</code> produces the names of
the parameters in the procedure activation <code>i</code> levels above the
current activation in <code>ce</code>.
<p>
<p><hr />
<A name="parent"> </A>

<div style="text-align:left; float:left;"><STRONG>parent(CE) : co-expression </STRONG> </div><div style="text-align:right; float:right"> <STRONG>parent program</STRONG></div><br>
<p>

<code>parent(ce)</code> returns <code>&amp;main</code> for ce's
parent program. This is interesting only when programs are dynamically
loaded using the <code>load()</code> function.
<p>
<p><hr />
<A name="pipe"> </A>

<div style="text-align:left; float:left;"><STRONG>pipe() : list </STRONG> </div><div style="text-align:right; float:right"> <STRONG>create pipe</STRONG></div><br>
<p>

<A name="pipe()"> </A><code>pipe()</code> creates a pipe and returns a list of two
file objects. The first is for reading, the second is for writing. See
also function <code>filepair()</code>.
<p>
<p><hr />
<A name="pop"> </A>

<div style="text-align:left; float:left;"><STRONG>pop(L | Message) : any? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>pop from stack</STRONG></div><br>
<p>

<A name="pop(L)"> </A><code>pop(L)</code> removes an element from the top of the
<A name="stack"> </A>stack (<code>L[1]</code>) and returns it. <code>pop(M)</code>
removes and returns the first message in POP mailbox connection M; the
actual deletion occurs when the messaging connection is closed.
<p>
<p><hr />
<A name="pos"> </A>

<div style="text-align:left; float:left;"><STRONG>pos(i) : integer? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>test scanning position</STRONG></div><br>
<p>

<A name="pos(i)"> </A><code>pos(i)</code> tests whether <code>&amp;pos</code> is at
position <code>i</code> in <code>&amp;subject</code>.
<p>
<p><hr />
<A name="proc"> </A>

<div style="text-align:left; float:left;"><STRONG>proc(any, i:1, C) : procedure? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>convert to procedure</STRONG></div><br>
<p>

<A name="proc(s,i)"> </A><code>proc(s,i)</code> converts <code>s</code> to a procedure
if that is possible. Parameter <code>i</code> is used to resolve ambiguous
string names; it must be either 0, 1, 2, or 3. If <code>i</code> is 0, a
built-in function is returned if it is available, even if the global
identifier by that name has been assigned differently. If <code>i</code> is
1, 2, or 3, the procedure for an operator with that number of operands
is produced. For example,
<code>proc("-",2)</code> produces the procedure
for subtraction, while
    <code>proc("-")</code> produces the
procedure for unary negation. <code>proc(C,i)</code> returns the procedure
activated <code>i</code> levels up with <code>C</code>. <code>proc(p, i, C)</code>
returns procedure <code>p</code> if it belongs to the program which created
co-expression <code>C</code>.
<p>
<p><hr />
<A name="pull"> </A>

<div style="text-align:left; float:left;"><STRONG>pull(L,i:1) : any? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>remove from list end</STRONG></div><br>
<p>

<A name="pull(L)"> </A><code>pull(L)</code> removes and produces an element from the
end of a nonempty list <code>L.</code> <code>pull(L, i)</code> removes
<code>i</code> elements, producing the last one removed.
<p>
<p><hr />
<A name="push"> </A>

<div style="text-align:left; float:left;"><STRONG>push(L, any, ...) : list </STRONG> </div><div style="text-align:right; float:right"> <STRONG>push on to stack</STRONG></div><br>
<p>

<code>push(L, x1, ..., xN)</code> pushes elements onto the beginning of list
<code>L</code>. The order of the elements added to the list is the reverse
of the order they are supplied as parameters to the call to
<A name="push()"> </A><code>push()</code>. <code>push()</code> returns the list that is
passed as its first parameter, with the new elements added.
<p>
<hr />
<A name="put"> </A>

<div style="text-align:left; float:left;"><STRONG>put(L, x1, ..., xN) : list </STRONG> </div><div style="text-align:right; float:right"> <STRONG>add to list end</STRONG></div><br>
<p>

<A name="put()"> </A><code>put(L, x1, ..., xN)</code> puts elements onto the end of
list <code>L</code>.
<p>
<p><hr />
<A name="read"> </A>

<div style="text-align:left; float:left;"><STRONG>read(f:&amp;input) : string? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>read line</STRONG></div><br>
<p>

<A name="read(f)"> </A><code>read(f)</code> reads a line from file <code>f</code>. The
end of line marker is discarded.
<p>
<p><hr />
<A name="reads"> </A>

<div style="text-align:left; float:left;"><STRONG>reads(f:&amp;input, i:1) : string? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>read characters</STRONG></div><br>
<p>

<A name="reads(f,i)"> </A><code>reads(f,i)</code> reads up to <code>i</code> characters
from file <code>f</code>. It fails on end of file. If <code>f</code> is a
network connection, <code>reads()</code> returns as soon as it has input
available, even if fewer than <code>i</code> characters were delivered. If
<code>i</code> is -1, <code>reads()</code> reads and produces the entire file
as a string. Care should be exercised when using this feature to read
very large files.
<p>
<p><hr />
<A name="ready"> </A>

<div style="text-align:left; float:left;"><STRONG>ready(f:&amp;input, i:0) : string? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>non-blocking read</STRONG></div><br>
<p>

<A name="ready(f,i)"> </A><code>ready(f,i)</code> reads up to <code>i</code> characters
from file <code>f</code>. It returns immediately with available data and
fails if no data is available. If <code>i</code> is 0, <code>ready()</code>
returns all available input. It is not currently implemented for window
values.
<p>
<p><hr />
<A name="real"> </A>

<div style="text-align:left; float:left;"><STRONG>real(any) : real? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>convert to real</STRONG></div><br>
<p>

<A name="convert!to real"> </A><code>real(x)</code> converts <code>x</code> to a real,
or fails if the conversion cannot be performed.
<p>
<p><hr />
<A name="receive"> </A>

<div style="text-align:left; float:left;"><STRONG>receive(f) : record </STRONG> </div><div style="text-align:right; float:right"> <STRONG>receive datagram</STRONG></div><br>
<p>

<A name="receive datagram"> </A><code>receive(f)</code> reads a datagram addressed
to the port associated with <code>f</code>, waiting if necessary. The
returned value is a record of type <code>posix_message(addr, msg)</code>,
containing the address of the sender and the contents of the message
respectively.
<p>
<p><hr />
<A name="remove"> </A>

<div style="text-align:left; float:left;"><STRONG>remove(s) : ? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>remove file</STRONG></div><br>
<p>

<A name="remove file"> </A><A name="file!remove"> </A><code>remove(s)</code> removes the
file named <code>s</code>.
<p>
<p><hr />
<A name="rename"> </A>

<div style="text-align:left; float:left;"><STRONG>rename(s, s) : ? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>rename file</STRONG></div><br>
<p>

<A name="file!rename"> </A><code>rename(s1,s2)</code> renames the file named
<code>s1</code> to have the name <code>s2</code>.
<p>
<p><hr />
<A name="repl"> </A>

<div style="text-align:left; float:left;"><STRONG>repl(x, i) : x </STRONG> </div><div style="text-align:right; float:right"> <STRONG>replicate</STRONG></div><br>
<p>

<A name="replicate string"> </A><code>repl(x, i)</code> concatenates and returns
<code>i</code> copies of string or list <code>x</code>.
<p>
<p><hr />
<A name="reverse"> </A>

<div style="text-align:left; float:left;"><STRONG>reverse(x) : x </STRONG> </div><div style="text-align:right; float:right"> <STRONG>reverse sequence</STRONG></div><br>
<p>

<A name="reverse(x)"> </A><code>reverse(x)</code> returns a value that is the
reverse of string or list <code>x</code>.
<p>
<p><hr />
<A name="right"> </A>

<div style="text-align:left; float:left;"><STRONG>right(s, i:1, s:" ") : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>right format string</STRONG></div><br>
<p>

<A name="right()"> </A><code>right(s1,i,s2)</code> produces a string of length
<code>i</code>. If <code>i&lt;*s1</code>, <code>s1</code> is truncated.
Otherwise, the function pads <code>s1</code> on left with <code>s2</code> to
length <code>i</code>.
<p>
<p><hr />
<A name="rmdir"> </A>

<div style="text-align:left; float:left;"><STRONG>rmdir(s) : ? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>remove directory</STRONG></div><br>
<p>

<A name="remove directory"> </A><code>rmdir(d)</code> removes the directory named
<code>d</code>. <code>rmdir()</code> fails if <code>d</code> is not empty or does
not exist.
<p>
<p><hr />
<A name="rtod"> </A>

<div style="text-align:left; float:left;"><STRONG>rtod(r) : real </STRONG> </div><div style="text-align:right; float:right"> <STRONG>convert radians to degrees</STRONG></div><br>
<p>

<A name="convert!radians to degrees"> </A><code>rtod(r)</code> produces the
equivalent of <code>r</code> radians, expressed in degrees.
<p>
<p><hr />
<A name="runerr"> </A>

<div style="text-align:left; float:left;"><STRONG>runerr(i, any) </STRONG> </div><div style="text-align:right; float:right"> <STRONG>runtime error</STRONG></div><br>
<p>

<A name="runtime error"> </A><code>runerr(i,x)</code> produces runtime error
<code>i</code> with value <code>x</code>. Program execution is terminated.
<p>
<p><hr />
<A name="seek"> </A>

<div style="text-align:left; float:left;"><STRONG>seek(f, any) : file? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>seek to file offset</STRONG></div><br>
<p>

<A name="seek(f,i)"> </A><code>seek(f,i)</code> seeks to offset <code>i</code> in file
<code>f</code>, if it is possible. If <code>f</code> is a regular file,
<code>i</code> must be an integer. If <code>f</code> is a database, <code>i</code>
seeks a position within the current set of selected rows. The position
is selected numerically if <code>i</code> is convertible to an integer;
otherwise <code>i</code> must be convertible to a string and the position
is selected associatively by the primary key.
<p>
<p><hr />
<A name="select"> </A>

<div style="text-align:left; float:left;"><STRONG>select(x1, x2, ?) : list </STRONG> </div><div style="text-align:right; float:right"> <STRONG>files with available input</STRONG></div><br>
<p>

<code>select(files?, timeout)</code> waits for a input to become available
on any of several files, typically network connections or windows. Its
arguments may be files or lists of files, ending with an optional
integer timeout value in milliseconds. It returns a list of those files
among its arguments that have input waiting.
<p>
If the final argument to <A name="select()"> </A><code>select()</code> is an
integer, it is an upper bound on the time elapsed before select
returns. A timeout of 0 causes <code>select()</code> to return immediately
with a list of files on which input is currently pending. If no files
are given, <code>select()</code> waits for its timeout to expire. If no
timeout is given, <code>select()</code> waits forever for available input
on one of its file arguments. Directories and databases cannot be
arguments to <code>select()</code>.
<p>
<p><hr />
<A name="send"> </A>

<div style="text-align:left; float:left;"><STRONG>send(s, s) : ? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>send datagram</STRONG></div><br>
<p>

<A name="send datagram"> </A><code>send(s1, s2)</code> sends a UDP datagram to the
address <code>s1</code> (in host:port format) with the contents
<code>s2</code>.
<p>
<p><hr />
<A name="seq"> </A>

<div style="text-align:left; float:left;"><STRONG>seq(i:1, i:1) : integer* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>generate sequence</STRONG></div><br>
<p>

<A name="sequence, generate numeric"> </A><code>seq(i, j)</code> generates the
infinite sequence <code>i</code>, <code>i+j</code>, <code>i+2*j</code>, ... .
<code>j</code> may not be 0.
<p>
<p><hr />
<A name="serial"> </A>

<div style="text-align:left; float:left;"><STRONG>serial(x) : integer? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>structure serial number</STRONG></div><br>
<p>

<A name="serial(x)"> </A><code>serial(x)</code> returns the serial number for
structure <code>x</code>, if it has one. Serial numbers uniquely identify
structure values.
<p>
<p><hr />
<A name="set"> </A>

<div style="text-align:left; float:left;"><STRONG>set(x, ...) : set </STRONG> </div><div style="text-align:right; float:right"> <STRONG>create set</STRONG></div><br>
<p>

<A name="create!set"> </A><A name="set()"> </A><code>set()</code> creates a set. Arguments
are inserted into the new set, with the exception of lists.
<code>set(L)</code> creates a set whose members are the elements of list
<code>L</code>.
<p>
<p><hr />
<A name="setenv"> </A>

<div style="text-align:left; float:left;"><STRONG>setenv(s) : ? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>set environment variable</STRONG></div><br>
<p>

<A name="setenv()"> </A><code>setenv()</code> sets an environment variable
<code>s</code> in the operating system.
<p>
<p><hr />
<A name="signal"> </A>

<div style="text-align:left; float:left;"><STRONG>signal(cv, i:1) : ?? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>signal a conditional variable</STRONG></div><br>
<p>

<A name="signal"> </A><code>signal(x, y)</code> signals the condition variable
<EM>x</EM>. If <EM>y</EM> is supplied, the condition variable is
signaled <EM>y</EM> times. If <EM>y</EM> is 0, a "broadcast"
signal is sent waking up all threads waiting on <EM>x</EM>.
<p>
<p><hr />
<A name="sin"> </A>

<div style="text-align:left; float:left;"><STRONG>sin(r) : real </STRONG> </div><div style="text-align:right; float:right"> <STRONG>sine</STRONG></div><br>
<p>

<A name="sine"> </A><code>sin(r)</code> produces the sine of
<code>r</code>. The argument is given in radians.
<p>
<p><hr />
<A name="sort"> </A>

<div style="text-align:left; float:left;"><STRONG>sort(x, i:1) : list </STRONG> </div><div style="text-align:right; float:right"> <STRONG>sort structure</STRONG></div><br>
<p>

<A name="sort(x, i)"> </A><code>sort(x, i)</code> sorts structure <code>x</code>. If
<code>x</code> is a table, parameter <code>i</code> is the sort method. If
<code>i</code> is 1 or 2, the table is sorted into a list of lists of the
form [key, value]. If <code>i</code> is 3 or 4, the table is sorted into a
list of alternating keys and values. Sorting is by keys for odd-values
of <code>i</code>, and by table element values for even-values of
<code>i</code>.
<p>
<p><hr />
<A name="sortf"> </A>

<div style="text-align:left; float:left;"><STRONG>sortf(x, i:1) : list </STRONG> </div><div style="text-align:right; float:right"> <STRONG>sort by field</STRONG></div><br>
<p>

<A name="sort by field"> </A><code>sortf(x,i)</code> sorts a list, record, or set
<code>x</code> using field <code>i</code> of each element that has one.
Elements that don't have an
<code>i</code>'th field are sorted in standard order and
come before those that do have an <code>i</code>'th field.
<p>
<p><hr />
<A name="spawn"> </A>

<div style="text-align:left; float:left;"><STRONG>spawn(CE, i, i) : thread </STRONG> </div><div style="text-align:right; float:right"> <STRONG>launch asynchronous thread</STRONG></div><br>
<p>

<A name="spawn()"> </A><code>spawn(ce)</code> launches co-expression <EM>ce</EM> as an
asynchronous thread that will execute concurrently with the current
co-expression. The two optional integers specify the memory in bytes
allocated for the thread's block and string regions. The defaults are 10\%
of the main thread heap size.
<p>
<p><hr />
<A name="sql"> </A>

<div style="text-align:left; float:left;"><STRONG>sql(D, s) : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>execute SQL statement</STRONG></div><br>
<p>

<A name="sql()"> </A><code>sql(db, query)</code> executes arbitrary SQL code on
<code>db</code>. This function allows the program to do vendor-specific SQL
and many SQL statements that cannot be expressed otherwise using the
Unicon database facilities. <code>sql()</code> can leave the database in an
arbitrary state and should be used with care.
<p>
<p><hr />
<A name="sqrt"> </A>

<div style="text-align:left; float:left;"><STRONG>sqrt(r) : real </STRONG> </div><div style="text-align:right; float:right"> <STRONG>square root</STRONG></div><br>
<p>

<A name="square root"> </A><code>sqrt(r)</code> produces the square root of
<code>r</code>.
<p>
<p><hr />
<A name="stat"> </A>

<div style="text-align:left; float:left;"><STRONG>stat(f) : record? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>get file information</STRONG></div><br>
<p>

<A name="file!information"> </A><A name="stat(f)"> </A><code>stat(f)</code> returns a record
with information about the file <code>f</code> which may be a path or a
file object. The return value is of type:
<code>record posix_stat(dev, ino, mode, nlink, uid, gid, rdev</code>,
<code>size, atime, mtime, ctime, blksize, blocks, symlink)</code>.
Many of these fields are POSIX
specific, but a number are supported across platforms, such as the
<A name="file size"> </A>file size in bytes (the <code>size</code> field), access
permissions (the <code>mode</code> field), and the last modified time (the
<code>mtime</code> field).
<p>
The <code>atime</code>, <code>mtime</code>, and <code>ctime</code> fields are
integers that may be formatted with the <code>ctime()</code> and
<code>mtime()</code> functions. The mode is a string similar to the long
listing option of the UNIX <code>ls(1)</code> command. For example,
<code>"-rwxrwsr-x"</code> represents a plain
file with a mode of 2775 (octal). <code>stat(f)</code> fails if filename or
path <code>f</code> does not exist.
<p>
<p><hr />
<A name="staticnames"> </A>

<div style="text-align:left; float:left;"><STRONG>staticnames(CE:&amp;current, i:0) : string* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>static variable names</STRONG></div><br>
<p>

<A name="static"> </A><code>staticnames(ce,i)</code> generates the names of static
variables in the procedure <code>i</code> levels above the current
activation in <code>ce</code>.
<p>
<p><hr />
<A name="stop"> </A>

<div style="text-align:left; float:left;"><STRONG>stop(s|f, ...) : </STRONG> </div><div style="text-align:right; float:right"> <STRONG>stop execution</STRONG></div><br>
<p>

<A name="stop"> </A><code>stop(args)</code> <A name="halt"> </A>halts execution after
writing out its string arguments, followed by a newline, to
<code>&amp;errout</code>. If any argument is a file, subsequent string
arguments are written to that file instead of <code>&amp;errout</code>. The
program exit status indicates that an error has occurred.
<p>
<p><hr />
<A name="string"> </A>

<div style="text-align:left; float:left;"><STRONG>string(x) : string? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>convert to string</STRONG></div><br>
<p>

<A name="convert!to string"> </A><A name="string(x)"> </A><code>string(x)</code> converts x
to a string and returns the result, or fails if the value cannot be
converted.
<p>
<p><hr />
<A name="system"> </A>

<div style="text-align:left; float:left;"><STRONG>system(x, f:&amp;input, f:&amp;output, f:&amp;errout, s) : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>execute system command</STRONG></div><br>
<p>

<A name="system command"> </A><code>system(x, f1, f2, f3, waitflag)</code> launches
execution of a program in a separate process. <code>x</code> can be either
a string or a list of strings. In the former case, whitespace is used
to separate the arguments and the command is processed by the
platform's command interpreter. In the second case,
each member of the list is an argument and the second and subsequent
list elements are passed unmodified to the program named in the first
element of the list.
<p>
The three file arguments are files that will be used for the new
process' standard input, standard output and standard
error. The return value is the exit status from the process. If the
<code>waitflag</code> argument is
<code>"nowait"</code>, <code>system()</code>
returns immediately after spasyswning the new process, and the return
value is then the process id of the new process.
<p>
<p><hr />
<A name="sys_errstr"> </A>

<div style="text-align:left; float:left;"><STRONG>sys_errstr(i) : string? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>system error string</STRONG></div><br>
<p>

<A name="sys_errstr(i)"> </A><code>sys_errstr(i)</code> produces the error string
corresponding to <code>i</code>, a value obtained from <code>&amp;errno</code>.
<p>
<p><hr />
<A name="tab"> </A>

<div style="text-align:left; float:left;"><STRONG>tab(i:0) : string? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>set scanning position</STRONG></div><br>
<p>

<A name="tab(i)"> </A><code>tab(i)</code> sets <code>&amp;pos</code> to <code>i</code> and
returns the substring of <code>&amp;subject</code> spanned by the former and
new positions. <code>tab(0)</code> moves the position to the end of the
string. This function reverses its effects by resetting the position to
its old value if it is resumed.
<p>
<p><hr />
<A name="table"> </A>

<div style="text-align:left; float:left;"><STRONG>table(k,v, ..., x) : table </STRONG> </div><div style="text-align:right; float:right"> <STRONG>create table</STRONG></div><br>
<p>

<A name="table(x)"> </A><code>table(x)</code> creates a table with default value
<code>x</code>. If <code>x</code> is a mutable value such as a list, all
references to the default value refer to the <em>same</em> value, not a
separate copy for each key. Given more than one argument,
<code>table(k,v,...x)</code> takes alternating keys and values and
populates the table with these initial contents.
<p>
<p><hr />
<A name="tan"> </A>

<div style="text-align:left; float:left;"><STRONG>tan(r) : real </STRONG> </div><div style="text-align:right; float:right"> <STRONG>tangent</STRONG></div><br>
<p>

<A name="tangent"> </A><code>tan(r)</code> produces the tangent of <code>r</code> in
radians.
<p>
<p><hr />
<A name="trap"> </A>

<div style="text-align:left; float:left;"><STRONG>trap(s, p) : procedure </STRONG> </div><div style="text-align:right; float:right"> <STRONG>trap or untrap signal</STRONG></div><br>
<p>

<A name="trap signal"> </A><code>trap(s, proc)</code> sets up a signal handler for
the signal <code>s</code> (the name of the signal). The old handler (if
any) is returned. If <code>proc</code> is null, the signal is reset to its
default value.
<p>
Caveat: This is not supported by the optimizing
<A name="compiler"> </A>compiler (the -C command line option, which invokes iconc).
<p>
<p><hr />
<A name="trim"> </A>

<div style="text-align:left; float:left;"><STRONG>trim(s, c:' ', i:-1) : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>trim string</STRONG></div><br>
<p>

<A name="trim(s,c,i)"> </A><code>trim(s,c,i)</code> removes characters in <code>c</code>
from <code>s</code> at the back (<code>i</code>=-1, the default), at the front
(<code>i</code>=1), or at both ends (<code>i</code>=0).
<p>
<p><hr />
<A name="truncate"> </A>

<div style="text-align:left; float:left;"><STRONG>truncate(f, i) : ? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>truncate file</STRONG></div><br>
<p>

<A name="truncate file"> </A><code>truncate(f, len)</code> changes the file
<code>f</code> (which may be a string filename, or an open file) to be no
longer than length <code>len</code>. <code>truncate()</code> does not work on
windows, network connections, pipes, or databases.
<p>
<p><hr />
<A name="trylock"> </A>

<div style="text-align:left; float:left;"><STRONG>trylock(x) : x? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>try locking mutex</STRONG></div><br>
<p>

<A name="lock"> </A><code>trylock(x)</code> locks the mutex <EM>x</EM> or the mutex
associated with thread-safe object <EM>x</EM>, if it is not locked.
<p>
<p><hr />
<A name="type"> </A>

<div style="text-align:left; float:left;"><STRONG>type(x) : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>type of value</STRONG></div><br>
<p>

<A name="type(x)"> </A><code>type(x)</code> returns a string that indicates the type
of <code>x</code>.
<p>
<p><hr />
<A name="unlock"> </A>

<div style="text-align:left; float:left;"><STRONG>unlock(x) : x </STRONG> </div><div style="text-align:right; float:right"> <STRONG>unlock mutex</STRONG></div><br>
<p>

<A name="lock"> </A><code>unlock(x)</code> unlocks the mutex <EM>x</EM> or the mutex
associated with thread-safe object <EM>x</EM>.
<p>
<p><hr />
<A name="upto"> </A>

<div style="text-align:left; float:left;"><STRONG>upto(c, s, i, i) : integer* </STRONG> </div><div style="text-align:right; float:right"> <STRONG>find characters in set</STRONG></div><br>
<p>

String scanning function <A name="upto(c)"> </A><code>upto(c,s,i1,i2)</code>
generates the sequence of integer positions in <code>s</code> up to a
character in <code>c</code> in <code>s[i2:i2]</code>, but fails if there is no
such position.
<p>
<p><hr />
<A name="utime"> </A>

<div style="text-align:left; float:left;"><STRONG>utime(s, i, i) : null </STRONG> </div><div style="text-align:right; float:right"> <STRONG>file access/modification times</STRONG></div><br>
<p>

<code>utime(f, atime, mtime)</code> sets the <A name="access time, set"> </A>access
time for a file named <code>f</code> to <code>atime</code> and the modification
time to <code>mtime</code>. The <code>ctime</code> is set to the current time.
The effects of this function are platform specific. Some file systems
support only a subset of these times.
<p>
<p><hr />
<A name="variable"> </A>

<div style="text-align:left; float:left;"><STRONG>variable(s, CE:&amp;current, i:0) : any? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>get variable</STRONG></div><br>
<p>

<A name="variable(s,c,i)"> </A><code>variable(s, c, i)</code> finds the variable
with name <code>s</code> and returns a variable descriptor that refers to
its value. The name <code>s</code> is searched for within co-expression
<code>c</code>, starting with local variables <code>i</code> levels above the
current procedure frame, and then among the global variables in the
program that created <code>c</code>.
<p>
<p><hr />
<A name="wait"> </A>

<div style="text-align:left; float:left;"><STRONG>wait(x) : ? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>wait for thread or condition variable</STRONG></div><br>
<p>

<A name="wait()"> </A><code>wait(x)</code> waits for <EM>x</EM>. If <EM>x</EM> is
a thread, <CODE>wait()</CODE> waits for it to finish. If <EM>x</EM> is
is a condition variable <CODE>wait()</CODE> waits until that variable is
signaled by another thread.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>where(f) : integer? </STRONG> </div><div style="text-align:right; float:right"> <STRONG>file position</STRONG></div><br>
<p>

<A name="file!position"> </A><A name="where(f)"> </A><code>where(f)</code> returns the
current offset position in file <code>f</code>. It fails on windows and
networks. The beginning of the file is offset 1.
<p>
<p><hr />
<A name="write"> </A>

<div style="text-align:left; float:left;"><STRONG>write(s|f, ...) : string|file </STRONG> </div><div style="text-align:right; float:right"> <STRONG>write text line</STRONG></div><br>
<p>

<code>write(args)</code> outputs strings, followed by a newline, to a file
or files. Strings are written in order to their nearest preceding file,
defaulting to <code>&amp;output</code>. A newline is output to the preceding
file after the last argument, as well as whenever a non-initial file
argument directs output to a different file.
<A name="write()"> </A><code>write()</code> returns its last argument.
<p>
<p><hr />
<A name="writes"> </A>

<div style="text-align:left; float:left;"><STRONG>writes(s|f, ...) : string|file </STRONG> </div><div style="text-align:right; float:right"> <STRONG>write strings</STRONG></div><br>
<p>

<code>writes(args)</code> outputs strings to one or more files. Each string
argument is written to the nearest preceding file argument, defaulting
to <code>&amp;output</code>. <A name="writes()"> </A><code>writes()</code> returns its
last argument.
<p>
<H3>Graphics functions</H3>
<p>

The names of built-in graphics functions begin with upper case. The built-in
graphics functions are listed here. These functions are more thoroughly
described in [Griswold98]. Extensive procedure and class libraries for
graphics are described in [Griswold98] and in Appendix B.  In 2D, arguments
named <code>x</code> and <code>y</code> are pixel locations in zero-based
integer coordinates. In 3D windows coordinates are given using real numbers,
and functions by default take three coordinates (<code>x,y,z</code>) per
vertex. Attribute <code>dim</code> can be set to 2 or 4, changing most 3D
functions to take vertices in a (<code>x,y</code>) or (<code>x,y,z,w</code>)
format. Arguments named <code>row</code> and <code>col</code> are cursor
locations in one-based integer text coordinates. Most functions' first
parameter named <code>w</code> defaults to <code>&amp;window</code> and the
window argument can be omitted in the default case.
Most graphics functions are not thread-safe.
<p>

<p><hr />
<A name="Active"> </A>

<div style="text-align:left; float:left;"><STRONG>Active() : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>produce active window</STRONG></div><br>
<p>

<code>Active()</code> returns a window that has one or more events pending.
If no window has an event pending, <code>Active()</code> blocks and waits
for an event to occur. <code>Active()</code> starts with a different
window on each call in order to avoid window
"starvation". <code>Active()</code> fails if
no windows are open.
<p>
<p><hr />
<A name="Alert"> </A>

<div style="text-align:left; float:left;"><STRONG>Alert() : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>alert the user</STRONG></div><br>
<p>

<code>Alert()</code> produces a visual flash or audible beep that signifies
to the user the occurrence of some notable event in the application.
<p>
<p><hr />
<A name="Bg"> </A>

<div style="text-align:left; float:left;"><STRONG>Bg(w,s) : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>background color</STRONG></div><br>
<p>

<code>Bg(w)</code> retrieves the background color. <code>Bg(w,s)</code> sets the
background color by name, rgb, or mutable color value. <code>Bg()</code>
fails if the background cannot be set to the requested color.
<p>
<p><hr />
<A name="Clip"> </A>

<div style="text-align:left; float:left;"><STRONG>Clip(w,x:0,y:0,width:0,height:0) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>clip to rectangle</STRONG></div><br>
<p>

<code>Clip(w,x,y,width,height)</code> clips output to a rectangular area
within the window. If <code>width</code> is 0, the clip region extends
from <code>x</code> to the right side of the window. If <code>height</code>
is 0, the clip region extends from <code>y</code> to the bottom of the
window.
<p>
<p><hr />
<A name="Clone"> </A>

<div style="text-align:left; float:left;"><STRONG>Clone(w,s,...) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>clone context</STRONG></div><br>
<p>

<code>Clone(w)</code> produces a new window binding in which a new graphics
context is copied from <code>w</code> and bound to
<code>w</code>'s canvas. Additional string arguments
specify attributes of the new binding, as in <code>WAttrib()</code>. If the
first string argument is
<code>"g"</code> or
<code>"gl"</code>, <code>Clone()</code>
binds the new context to a subwindow with separate canvas and input
queue inside of and relative to <code>w</code>. <code>Clone()</code> fails if
an attribute cannot be set to a requested value.
<p>
<p><hr />
<A name="Color"> </A>

<div style="text-align:left; float:left;"><STRONG>Color(w, i, s,...) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>set mutable color</STRONG></div><br>
<p>

<code>Color(w,i)</code> produces the current setting of mutable color
<code>i</code>. <code>Color(w,i,s,...)</code> sets the color map entries
identified by <code>i[j]</code> to the corresponding colors <code>s[j]</code>.
  See [Griswold98].
<p>
<p><hr />
<A name="ColorValue"> </A>

<div style="text-align:left; float:left;"><STRONG>ColorValue(w, s) : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>convert color name to rgb</STRONG></div><br>
<p>

<code>ColorValue(w,s)</code> converts the string color <code>s</code> into a
string with three comma-separated 16-bit integer values denoting the
color's RGB components. <code>ColorValue()</code> fails if
string <code>s</code> is not a valid name or recognized decimal or hex
encoding of a color.
<p>
<p><hr />
<A name="CopyArea"> </A>

<div style="text-align:left; float:left;"><STRONG>CopyArea(w1, w2,x:0,y:0,width:0,height:0,x2:0,y2:0) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>copy area</STRONG></div><br>
<p>

<code>CopyArea(w1,w2,x,y,width,height,x2,y2)</code> copies a rectangular
region within <code>w1</code> defined by
<code>x</code>,<code>y</code>,<code>width</code>,<code>height</code> to window
<code>w2</code> at offset <code>x2</code>,<code>y2</code>. <code>CopyArea()</code>
returns <code>w1</code>. <code>&amp;window</code> is not a default for this
function. The default copies all of <code>w1</code>.
<p>
<p><hr />
<A name="Couple"> </A>

<div style="text-align:left; float:left;"><STRONG>Couple(w1, w2) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>couple window to context</STRONG></div><br>
<p>

<code>Couple(w1,w2)</code> produces a new value that binds the window
associated with <code>w1</code> to the graphics context associated with
<code>w2</code>.
<p>
<p><hr />
<A name="DrawArc"> </A>

<div style="text-align:left; float:left;"><STRONG>DrawArc(w, x, y, width, height:width, a1:0.0, a2:2*&amp;pi, ...) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>draw arc</STRONG></div><br>
<p>

<code>DrawArc(w,x,y,width,height,a1,a2,...)</code> draws arcs or ellipses.
  Each is defined by six integer coordinates. <code>x</code>, <code>y</code>,
<code>width</code> and <code>height</code> define a bounding rectangle around
the arc; the center of the arc is the point
<code>(x+(width)/2,y+(height)/2)</code>. Angles are specified in radians.
  Angle <code>a1</code> is the starting position of the arc, where 0.0 is
the 3 o'clock position and the positive direction is
counter-clockwise. Angle <code>a2</code> is not the end position, but
rather specifies the direction and extent of the arc.
<p>
<p><hr />
<A name="DrawCircle"> </A>

<div style="text-align:left; float:left;"><STRONG>DrawCircle(w, x, y, radius, a1:0.0, a2:2*&amp;pi, ...) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>draw circle</STRONG></div><br>
<p>

<code>DrawCircle()</code> draws a circle or arc, centered at
(<code>x</code>,<code>y</code>) and otherwise similar to <code>DrawArc()</code>
with <code>width=height</code>.
<p>
<p><hr />
<A name="DrawCube"> </A>

<div style="text-align:left; float:left;"><STRONG>DrawCube(w, x, y, z, len ...) : record </STRONG> </div><div style="text-align:right; float:right"> <STRONG>draw cube</STRONG></div><br>
<p>

<code>DrawCube(w, x, y, z, len...)</code> draws a cube with sides of
length <code>len</code> at the position (<code>x</code>, <code>y</code>,
<code>z</code>) on the 3D window <code>w</code>. The display list element is
returned. This procedure fails if the context attribute <code>dim</code> is
set to 2.
<p>
<p><hr />
<A name="DrawCurve"> </A>

<div style="text-align:left; float:left;"><STRONG>DrawCurve(w, x1, y1, ...) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>draw curve</STRONG></div><br>
<p>

<code>DrawCurve(w,x1,y1,...,xn,yn)</code> draws a smooth curve connecting
each <code>x,y</code> pair in the argument list. If the first and last
point are the same, the curve is smooth and closed through that point.
<p>
<p><hr />
<A name="DrawCylinder"> </A>

<div style="text-align:left; float:left;"><STRONG>DrawCylinder(w, x, y, z, h, r1, r2, ...) : record </STRONG> </div><div style="text-align:right; float:right"> <STRONG>draw cylinder</STRONG></div><br>
<p>

<code>DrawCylinder(w, x, y, z, h, r1, r2, ...)</code> draws a cylinder
with a top of radius <code>r1</code>, a bottom with radius <code>r2</code>, and
a height <code>h</code> on 3D window <code>w</code>. The disk is centered at
the point (<code>x</code>, <code>y</code>, <code>z</code>). The display list
element is returned. This procedure fails if the context attribute
<code>dim</code> is set to 2.
<p>
<p><hr />
<A name="DrawDisk"> </A>

<div style="text-align:left; float:left;"><STRONG>DrawDisk(w, x, y, z, r1, r2, a1, a2, ...) : record </STRONG> </div><div style="text-align:right; float:right"> <STRONG>draw disk</STRONG></div><br>
<p>

<code>DrawDisk(W, x, y, z, r1, r2, a1, a2, ...)</code><code> </code>draws a
disk or partial disk centered at (<code>x</code>, <code>y</code>, <code>z</code>)
on 3D window <code>w</code>. The inner circle has radius <code>r1</code> and
the outer circle has radius <code>r2</code>. The parameters <code>a1</code> and
<code>a2</code> are optional. If they are specified, a partial disk is
drawn with a starting angle <code>a1</code> and sweeping angle <code>a2</code>.
The display list element is returned.
<p>
<p><hr />
<A name="DrawImage"> </A>

<div style="text-align:left; float:left;"><STRONG>DrawImage(w, x, y, s) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>draw bitmapped figure</STRONG></div><br>
<p>

<code>DrawImage(w,x,y, s)</code> draws an image specified in string
<code>s</code> at location <code>x,y</code>.
<p>
<p><hr />
<A name="DrawLine"> </A>

<div style="text-align:left; float:left;"><STRONG>DrawLine(w, x1, y1, z1 ...) : window [list] </STRONG> </div><div style="text-align:right; float:right"> <STRONG>draw line</STRONG></div><br>
<p>

<code>DrawLine(w,x1,y1,...,xn,yn)</code> draws lines between each adjacent
<code>x,y</code> pair of arguments. In 3D, <code>DrawLine()</code> takes from
2-4 coordinates per vertex and returns the list that represents the
lines on the display list for refresh purposes.
<p>
<p><hr />
<A name="DrawPoint"> </A>

<div style="text-align:left; float:left;"><STRONG>DrawPoint(w, x1, y1, ...) : window [list] </STRONG> </div><div style="text-align:right; float:right"> <STRONG>draw point</STRONG></div><br>
<p>

<code>DrawPoint(w,x1,y1,...,xn,yn)</code> draws points. In 3D,
<code>DrawPoint()</code> takes from 2-4 coordinates per vertex and returns
the list that represents the points on the display list for refresh
purposes.
<p>
<p><hr />
<A name="DrawPolygon"> </A>

<div style="text-align:left; float:left;"><STRONG>DrawPolygon(w, x1, y1, [z1,] ...) : window [list] </STRONG> </div><div style="text-align:right; float:right"> <STRONG>draw polygon</STRONG></div><br>
<p>

<code>DrawPolygon(w,x1,y1,...,xn,yn)</code> draws a polygon. In 3D,
<code>DrawPolygon()</code> takes from 2-4 coordinates per vertex and returns the
list that represents the polygon on the display list for refresh
purposes.
<p>
<p><hr />
<A name="DrawRectangle"> </A>

<div style="text-align:left; float:left;"><STRONG>DrawRectangle(w, x1, y1, width1, height1 ...) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>draw rectangle</STRONG></div><br>
<p>

<code>DrawRectangle(w,x1,y1,width1,height1,...)</code> draws rectangles.
Arguments <code>width</code> and <code>height</code> define the perceived size
of the rectangle; the actual rectangle drawn is <code>width+1</code> pixels
wide and <code>height+1</code> pixels high.
<p>
<p><hr />
<A name="DrawSegment"> </A>

<div style="text-align:left; float:left;"><STRONG>DrawSegment(w, x1, y1, [z1,] ...) : window [list] </STRONG> </div><div style="text-align:right; float:right"> <STRONG>draw line segment</STRONG></div><br>
<p>

<code>DrawSegment(w,x1,y1,...,xn,yn)</code> draws lines between alternating
<code>x,y</code> pairs in the argument list. In 3D, <code>DrawSegment()</code>
takes from 2-4 coordinates per vertex and returns the list that
represents the segments on the display list for refresh purposes.
<p>
<p><hr />
<A name="DrawSphere"> </A>

<div style="text-align:left; float:left;"><STRONG>DrawSphere(w, x, y, z, r, ...) : record </STRONG> </div><div style="text-align:right; float:right"> <STRONG>draw sphere</STRONG></div><br>
<p>

<code>DrawSphere(w, x, y, z, r,...)</code> draws a sphere with radius
r centered at (x, y, z) on 3D window w. The display list element is
returned. This procedure fails if the context attribute <code>dim</code> is
set to 2.
<p>
<p><hr />
<A name="DrawString"> </A>

<div style="text-align:left; float:left;"><STRONG>DrawString(w, x1, y1, s1, ...) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>draw text</STRONG></div><br>
<p>

<code>DrawString(w,x,y,s)</code> draws text <code>s</code> at coordinates (x,
y). This function does not draw any background; only the
characters' actual pixels are drawn. It is possible to
use <code>"drawop=reverse"</code> with this
function to draw erasable text. <code>DrawString()</code> does not affect
the text cursor position. Newlines present in <code>s</code> cause
subsequent characters to be drawn starting at
(<code>x, current_y + leading</code>), where <code>x</code> is the
<code>x</code> supplied to the function,
<code>current_y</code> is the <code>y</code> coordinate the newline would have
been drawn on, and leading is the current leading associated with the
binding.
<p>
<p><hr />
<A name="DrawTorus"> </A>

<div style="text-align:left; float:left;"><STRONG>DrawTorus(w, x, y, z, r1, r2, ...) : record </STRONG> </div><div style="text-align:right; float:right"> <STRONG>draw torus</STRONG></div><br>
<p>

<code>DrawTorus(w, x, y, z, r1, r2,...)</code> draws a torus with
inner radius <code>r1</code>, outside radius <code>r2</code>, and centered at
(<code>x,y,z</code>) on 3D window <code>w</code>. The display list element is
returned. This procedure fails if the context attribute <code>dim</code> is
set to 2.
<p>
<p><hr />
<A name="EraseArea"> </A>

<div style="text-align:left; float:left;"><STRONG>EraseArea(w, x:0, y:0, width:0, height:0. ...) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>erase rectangular area</STRONG></div><br>
<p>

<code>EraseArea(w,x,y,width,height,...)</code> erases rectangular areas
within the window to the background color. If <code>width</code> is 0,
the region cleared extends from <code>x</code> to the right side of the
window. If <code>height</code> is 0, the region erased extends from
<code>y</code> to the bottom of the window. In 3D, <code>EraseArea(W)</code>
clears the contents of the entire window.
<p>
<p><hr />
<A name="Event"> </A>

<div style="text-align:left; float:left;"><STRONG>Event(w, i:infinity) : string|integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG> read event on window</STRONG></div><br>
<p>

<code>Event(w, i)</code> retrieves the next event available for window
<code>w</code>. If no events are available, <code>Event()</code> waits for
<code>i</code> milliseconds. Keystrokes are encoded as strings, while mouse
events are encoded as integers. The retrieval of an event is
accompanied by assignments to the keywords <code>&amp;x</code>, <code>&amp;y</code>,
<code>&amp;row</code>, <code>&amp;col</code>, <code>&amp;interval</code>,
<code>&amp;control</code>, <code>&amp;shift</code>, <code>&amp;meta</code>, and if 3D
attribute <code>"pick=on"</code>,
<code>&amp;pick</code>. <code>Event()</code> fails if the timeout expires before
an event occurs.
<p>
<p><hr />
<A name="Fg"> </A>

<div style="text-align:left; float:left;"><STRONG>Fg(w, s) : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>foreground color</STRONG></div><br>
<p>

<code>Fg(w)</code> retrieves the current foreground color. <code>Fg(w,s)</code>
sets the foreground by name or value. <code>Fg()</code> fails if the
foreground cannot be set to the requested color. In 3D,
<code>Fg(w, s)</code> changes the material properties of subsequently drawn objects
to the material properties specified by <code>s</code>. The string <code>s</code>
must be one or more semi-colon separated material properties. A
material property is of the form
<p>
                [diffuse | ambient | specular
| emission] <em>color name</em> or
"shininess n", 0 &lt;= n
&lt;= 128.
<p>
If string <code>s</code> is omitted, the current values of the material
properties will be returned.
<p>
<p><hr />
<A name="FillArc"> </A>

<div style="text-align:left; float:left;"><STRONG>FillArc(w, x, y, width, height, a1, a2, ...) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>draw filled arc</STRONG></div><br>
<p>

<code>FillArc(w,x,y,width,height,a1,a2,...)</code> draws filled arcs,
ellipses, and/or circles. Coordinates are as in <code>DrawArc()</code>.
<p>
<p><hr />
<A name="FillCircle"> </A>

<div style="text-align:left; float:left;"><STRONG>FillCircle(w, x, y, radius, a1, a2, ...) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>draw filled circle</STRONG></div><br>
<p>

<code>FillCircle(w,x,y, radius,a1,a2,...)</code> draws filled circles.
  Coordinates are as in <code>DrawCircle()</code>.
<p>
<p><hr />
<A name="FillPolygon"> </A>

<div style="text-align:left; float:left;"><STRONG>FillPolygon(w, x1, y1, [z1,] ...) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>draw filled polygon</STRONG></div><br>
<p>

<code>FillPolygon(w,x1,y1,...,xn,yn)</code> draws a filled polygon. The
beginning and ending points are connected if they are not the same. In
3D<code>, FillPolygon()</code> takes from 2-4 coordinates per vertex and
returns the list that represents the polygon on the display list for
refresh purposes.
<p>
<p><hr />
<A name="FillRectangle"> </A>

<div style="text-align:left; float:left;"><STRONG>FillRectangle(w, x:0, y:0, width:0, height:0, ...) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>draw filled rectangle</STRONG></div><br>
<p>

<code>FillRectangle(w,x,y,width,height,...)</code> draws filled rectangles.
<p>
<p><hr />
<A name="Font"> </A>

<div style="text-align:left; float:left;"><STRONG>Font(w, s) : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>font</STRONG></div><br>
<p>

<code>Font(w)</code> produces the name of the current font.
<code>Font(w,s)</code> sets the window context's font to
<code>s</code> and produces its name or fails if the font name is invalid.
  The valid font names are largely system-dependent but follow the
format <code>family[,styles],size</code>, where styles optionally add bold
or italic or both. Four font names are portable: <code>serif</code> (Times
or similar), <code>sans</code> (Helvetica or similar), <code>mono</code> (a
mono spaced sans serif font) and <code>typewriter</code> (Courier or
similar). <code>Font()</code> fails if the requested font name does not
exist.
<p>
<p><hr />
<A name="FreeColor"> </A>

<div style="text-align:left; float:left;"><STRONG>FreeColor(w, s, ...) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>release colors</STRONG></div><br>
<p>

<code>FreeColor(w,s1,...,sn)</code> allows the window system to re-use the
corresponding color map entries. Whether this call has an effect is
dependent upon the particular implementation. If a freed color is
still in use at the time it is freed, unpredictable results will occur.
<p>
<p><hr />
<A name="GotoRC"> </A>

<div style="text-align:left; float:left;"><STRONG>GotoRC(w, row:1, col:1) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>go to row,column</STRONG></div><br>
<p>

<code>GotoRC(w,row,col)</code> moves the text cursor to a particular row and
column, given in numbers of characters; the upper-left corner is
coordinate (1,1). The column calculation used by <code>GotoRC()</code>
assigns to each column the pixel width of the widest character in the
current font. If the current font is of fixed width, this yields the
usual interpretation.
<p>
<p><hr />
<A name="GotoXY"> </A>

<div style="text-align:left; float:left;"><STRONG>GotoXY(w, x:0, y:0) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>go to pixel</STRONG></div><br>
<p>

<code>GotoXY(w,x,y)</code> moves the text cursor to a specific cursor
location in pixels.
<p>
<p><hr />
<A name="IdentityMatrix"> </A>

<div style="text-align:left; float:left;"><STRONG>IdentityMatrix(w) : record </STRONG> </div><div style="text-align:right; float:right"> <STRONG>load the identity matrix</STRONG></div><br>
<p>

<code>IdentityMatrix(w)</code> changes the current matrix to the identity
matrix on 3D window <code>w</code>. The display list element is returned.
<p>
<p><hr />
<A name="Lower"> </A>

<div style="text-align:left; float:left;"><STRONG>Lower(w) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>lower window</STRONG></div><br>
<p>

<code>Lower(w)</code> moves window <code>w</code> to the bottom of the window
stack.
<p>
<p><hr />
<A name="MatrixMode"> </A>

<div style="text-align:left; float:left;"><STRONG>MatrixMode(w, s) : record </STRONG> </div><div style="text-align:right; float:right"> <STRONG>set matrix mode</STRONG></div><br>
<p>

<code>MatrixMode(w, s)</code> changes the matrix mode to <code>s</code> on 3D
window <code>w</code>. The string <code>s</code> must be either
<code>"projection"</code> or
<code>"modelview"</code>; otherwise
this procedure fails. The display list element is returned.
<p>
<p><hr />
<A name="MultMatrix"> </A>

<div style="text-align:left; float:left;"><STRONG>MultMatrix(w, L) : record </STRONG> </div><div style="text-align:right; float:right"> <STRONG>multiply transformation matrix</STRONG></div><br>
<p>

<code>MultMatrix(w, L)</code> multiplies the current transformation matrix
used in 3D window w by the 4x4 matrix represented as a list of 16
values L.
<p>
<p><hr />
<A name="NewColor"> </A>

<div style="text-align:left; float:left;"><STRONG>NewColor(w, s) : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>allocate mutable color</STRONG></div><br>
<p>

<code>NewColor(w,s)</code> allocates an entry in the color map and returns a
small negative integer for this entry, usable in calls to routines that
take a color specification, such as <code>Fg()</code>. If <code>s</code> is
specified, the entry is initialized to the given color.
<code>NewColor()</code> fails if it cannot allocate an entry.
<p>
<p><hr />
<A name="PaletteChars"> </A>

<div style="text-align:left; float:left;"><STRONG>PaletteChars(w, s) : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>pallete characters</STRONG></div><br>
<p>

<code>PaletteChars(w,s)</code> produces a string containing each of the
letters in palette <code>s</code>. The palletes
"c1" through
"c6" define different color
encodings of images represented as string data; see [Griswold98].
<p>
<p><hr />
<A name="PaletteColor"> </A>

<div style="text-align:left; float:left;"><STRONG>PaletteColor(w, p, s) : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>pallete color</STRONG></div><br>
<p>

<code>PaletteColor(w,s)</code> returns the color of key <code>s</code> in
palette <code>p</code> in
<code>"</code><code><em>r</em></code><code>,</code><code><em>g</em></code><code>,</code><code><em>b</em></code><code>"</code>
format.
<p>
<p><hr />
<A name="PaletteKey"> </A>

<div style="text-align:left; float:left;"><STRONG>PaletteKey(w, p, s) : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>pallete key</STRONG></div><br>
<p>

<code>PaletteKey(w,s)</code> returns the key of closest color to <code>s</code>
in palette <code>p</code>.
<p>
<p><hr />
<A name="Pattern"> </A>

<div style="text-align:left; float:left;"><STRONG>Pattern(w, s) : w </STRONG> </div><div style="text-align:right; float:right"> <STRONG>define stipple pattern</STRONG></div><br>
<p>

<code>Pattern(w,s)</code> selects stipple pattern <code>s</code> for use during
draw and fill operations. <code>s</code> may be either the name of a
system-dependent pattern or a literal of the form
<em>width</em>,<em>bits</em>. Patterns are only used when the
<code>fillstyle</code> attribute is <code>stippled</code> or
<code>opaquestippled</code>. <code>Pattern()</code> fails if a named pattern
is not defined. An error occurs if <code>Pattern()</code> is given a
malformed literal.
<p>
<p><hr />
<A name="Pending"> </A>

<div style="text-align:left; float:left;"><STRONG>Pending(w, x, ...) : L </STRONG> </div><div style="text-align:right; float:right"> <STRONG>produce event queue</STRONG></div><br>
<p>

<code>Pending(w)</code> produces the list of events waiting to be read from
window <code>w</code>. If no events are available, the list is empty (its
size is 0). <code>Pending(w,x1,...,xn)</code> adds <code>x1</code> through
<code>xn</code> to the end of <code>w</code>'s pending list in
guaranteed consecutive order.
<p>
<p><hr />
<A name="Pixel"> </A>

<div style="text-align:left; float:left;"><STRONG>Pixel(w, x:0, y:0, width:0, height:0) : i1...in </STRONG> </div><div style="text-align:right; float:right"> <STRONG>generate window pixels</STRONG></div><br>
<p>

<code>Pixel(w,x,y,width,height)</code> generates pixel contents from a
rectangular area within window <code>w</code>. <code>width * height</code>
results are generated starting from the upper-left corner and advancing
down to the bottom of each column before the next one is visited.
  Pixels are returned in integer values; ordinary colors are encoded
nonnegative integers, while mutable colors are negative integers that
were previously returned by <code>NewColor()</code>. Ordinary colors are
encoded with the most significant eight bits all zero, the next eight
bits contain the red component, the next eight bits the green
component, and the least significant eight bits contain the blue
component. <code>Pixel()</code> fails if part of the requested rectangle
extends beyond the canvas.
<p>
<p><hr />
<A name="PopMatrix"> </A>

<div style="text-align:left; float:left;"><STRONG>PopMatrix(w) : record </STRONG> </div><div style="text-align:right; float:right"> <STRONG>pop the matrix stack</STRONG></div><br>
<p>

<code>PopMatrix(w)</code> pops the top matrix from either the projection or
modelview matrix stack on 3D window <code>w</code>, depending on the
current matrix mode<code>.</code> This procedure fails if there is only one
matrix on the matrix stack. The display list element is returned.
<p>
<p><hr />
<A name="PushMatrix"> </A>

<div style="text-align:left; float:left;"><STRONG>PushMatrix(w) : record </STRONG> </div><div style="text-align:right; float:right"> <STRONG>push the matrix stack</STRONG></div><br>
<p>

<code>PushMatrix(w)</code> pushes a copy of the current matrix onto the
matrix stack on 3D window <code>w</code>. The current matrix mode
determines on what stack is pushed. This procedure fails if the stack
is full. The <code>"projection"</code>
stack is of size two; the
<code>"modelview"</code> stack is of
size thirty two. The display list element is returned.
<p>
<p><hr />
<A name="PushRotate"> </A>

<div style="text-align:left; float:left;"><STRONG>PushRotate(w, a, x, y, z) : record </STRONG> </div><div style="text-align:right; float:right"> <STRONG>push and rotate</STRONG></div><br>
<p>

<code>PushRotate()</code> is equivalent to <code>PushMatrix()</code> followed by
<code>Rotate()</code>.
<p>
<p><hr />
<A name="PushScale"> </A>

<div style="text-align:left; float:left;"><STRONG>PushScale(w, x, y, z) : record </STRONG> </div><div style="text-align:right; float:right"> <STRONG>push and scale</STRONG></div><br>
<p>

<code>PushScale()</code> is equivalent to <code>PushMatrix()</code> followed
by <code>Scale()</code>.
<p>
<p><hr />
<A name="PushTranslate"> </A>

<div style="text-align:left; float:left;"><STRONG>PushTranslate(w, x, y, z) : record </STRONG> </div><div style="text-align:right; float:right"> <STRONG>push and translate</STRONG></div><br>
<p>

<code>PushTranslate()</code> is equivalent to <code>PushMatrix()</code> followed
by <code>Translate()</code>.
<p>
<p><hr />
<A name="QueryPointer"> </A>

<div style="text-align:left; float:left;"><STRONG>QueryPointer(w) : x, y </STRONG> </div><div style="text-align:right; float:right"> <STRONG>produce mouse position</STRONG></div><br>
<p>

<code>QueryPointer(w)</code> generates the <code>x</code> and <code>y</code>
coordinates of the mouse relative to window <code>w</code>. If <code>w</code>
is omitted, <code>QueryPointer()</code> generates the coordinates relative
to the upper-left corner of the entire screen.
<p>
<p><hr />
<A name="Raise"> </A>

<div style="text-align:left; float:left;"><STRONG>Raise(w) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>raise window</STRONG></div><br>
<p>

<code>Raise(w)</code> moves window <code>w</code> to the top of the window
stack, making it entirely visible and possibly obscuring other windows.
<p>
<p><hr />
<A name="ReadImage"> </A>

<div style="text-align:left; float:left;"><STRONG>ReadImage(w, s, x:0, y:0) : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>load image file</STRONG></div><br>
<p>

<code>ReadImage(w,s,x,y)</code> loads an image from the file named by s into
window (or texture) w at offset <code>x,y</code>. <code>  x</code> and <code>y</code> are
optional and default to 0,0. GIF, JPG, PNG, and BMP formats are supported,
along with platform-specific formats. If <code>ReadImage()</code> reads the
image into <code>w</code>, it returns either an integer 0 indicating no
errors occurred or a nonzero integer indicating that one or more colors
required by the image could not be obtained from the window system.
  <code>ReadImage()</code> fails if file <code>s</code> cannot be opened for
reading or is an invalid file format.
<p>
<p><hr />
<A name="Refresh"> </A>

<div style="text-align:left; float:left;"><STRONG>Refresh(w) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>redraw the window</STRONG></div><br>
<p>

<code>Refresh(w) </code>redraws the contents of window <code>w</code>. It is
used mainly when objects have been moved in a 3D scene. The window
<code>w</code> is returned.
<p>
<p><hr />
<A name="Rotate"> </A>

<div style="text-align:left; float:left;"><STRONG>Rotate(w, a, x, y, z) : record </STRONG> </div><div style="text-align:right; float:right"> <STRONG>rotate objects</STRONG></div><br>
<p>

<code>Rotate(w, a, x, y, z,...)</code> rotates subsequent objects drawn
on 3D window <code>w</code> by angle <code>a</code> degrees, in the direction
(<code>x,y,z</code>). The display list element is returned.
<p>
<p><hr />
<A name="Scale"> </A>

<div style="text-align:left; float:left;"><STRONG>Scale(w, x, y, z) : record </div><div style="text-align:right; float:right">  scale objects</STRONG></div><br>
<p>

<code>Scale(w, x, y, z,...)</code> scales subsequent objects drawn on 3D
window <code>w</code> according to the given coordinates. The display list
element is returned.
<p>
<p><hr />
<A name="Texcoord"> </A>

<div style="text-align:left; float:left;"><STRONG>Texcoord(w, x, y, ...) : list </STRONG> </div><div style="text-align:right; float:right"> <STRONG>define texture coordinates</STRONG></div><br>
<p>

<code>Texcoord(W, x<sub>1</code>,y<sub>1</sub>,</sub>
<code>..., x<sub>n</code>, y<sub>n</sub>)</sub>
sets the texture coordinates to
<code>x<sub>1</code>, y<sub>1</sub>, ...,</sub>
<code>x<sub>n</code>, y<sub>n</sub></sub> in
3D window w. Each x, y, pair forms one texture coordinate.
<code>Texcoord(W, L)</code> sets the texture coordinates to those specified
in the list <code>L</code>. <code>Texcoord(W, s) </code>sets the texture
coordinates to those specified by <code>s</code>. The string <code>s</code>
must be <code>"auto"</code> otherwise
the procedure will fail. In all cases the display list element is
returned.
<p>
<p><hr />
<A name="TextWidth"> </A>

<div style="text-align:left; float:left;"><STRONG>TextWidth(w, s) : integer </STRONG> </div><div style="text-align:right; float:right"> <STRONG>pixel width of text</STRONG></div><br>
<p>

<code>TextWidth(w,s)</code> computes the pixel width of string <code>s</code> in
the font currently defined for window <code>w</code>.
<p>
<p><hr />
<A name="Texture"> </A>

<div style="text-align:left; float:left;"><STRONG>Texture(w, s) : record </STRONG> </div><div style="text-align:right; float:right"> <STRONG>apply texture</STRONG></div><br>
<p>

<code>Texture(w, s) </code>specifies a texture image that is applied to
subsequent objects drawn on 3D window <code>w</code>. The string <code>s</code>
specifies the texture image as a filename, a string of the form
<code>width,pallet,data</code> or <code>width,#,data</code>, where pallet is a
pallet from the Unicon 2D graphics facilities and data is the
hexadecimal representation of an image. <code>Texture(w1, w2)</code>
specifies that the contents of 2D or 3D window <code>w2</code> be used as
a texture image that is applied to subsequent objects on the window
<code>w1</code>. The display list element is returned.
<p>
<p><hr />
<A name="Translate"> </A>

<div style="text-align:left; float:left;"><STRONG>Translate(w, x, y, z, ...) : record </STRONG> </div><div style="text-align:right; float:right"> <STRONG>translate object positions</STRONG></div><br>
<p>

<code>Translate(w, x, y, z,...)</code> moves objects drawn subsequently
on 3D window w in the direction (<code>x,y,z</code>). The display list
element is returned.
<p>
<p><hr />
<A name="Uncouple"> </A>

<div style="text-align:left; float:left;"><STRONG>Uncouple(w) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>release binding</STRONG></div><br>
<p>

<code>Uncouple(w)</code> releases the binding associated with file
<code>w</code>. <code>Uncouple()</code> closes the window only if all other
bindings associated with that window are also closed.
<p>
<p><hr />
<A name="WAttrib"> </A>

<div style="text-align:left; float:left;"><STRONG>WAttrib(w, s1, ...) : x, ... </STRONG> </div><div style="text-align:right; float:right"> <STRONG>generate or set attributes</STRONG></div><br>
<p>

<code>WAttrib(w, s1, ...)</code> retrieves and/or sets window and context
attributes. If called with exactly one attribute, integers are produced
for integer-value attributes; all other values are represented by
strings. If called with more than one attribute argument,
<code>WAttrib()</code> produces one string result per argument, prefixing
each value by the attribute name and an equals sign (=). If
<code>xi</code> is a window, subsequent attributes apply to <code>xi</code>.
  <code>WAttrib()</code> fails if an attempt is made to set the attribute
<code>font</code>, <code>fg</code>, <code>bg</code>, or <code>pattern</code> to a value
that is not supported. A run-time error occurs for an invalid attribute
name or invalid value.
<p>
<p><hr />
<A name="WDefault"> </A>

<div style="text-align:left; float:left;"><STRONG>WDefault(w, program, option) : string </STRONG> </div><div style="text-align:right; float:right"> <STRONG>query user preference</STRONG></div><br>
<p>

<code>WDefault(w,program,option)</code> returns the value of option for
program as registered with the X resource manager. In typical use this
supplies the program with a default value for window attribute option
from a program.option entry in an .XDefaults file.
  <code>WDefault()</code> fails if no user preference for the specified
option is available.
<p>
<p><hr />
<A name="WFlush"> </A>

<div style="text-align:left; float:left;"><STRONG>WFlush(w) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>flush window output</STRONG></div><br>
<p>

<code>WFlush(w)</code> flushes window output on window systems that buffer
text and graphics output. Window output is automatically flushed
whenever the program blocks on window input. When this behavior is
not adequate, a call to <code>WFlush()</code> sends all window output
immediately, but does not wait for all commands to be received and
acted upon. <code>WFlush()</code> is a no-op on window systems that do not
buffer output.
<p>
<p><hr />
<A name="WindowContents"> </A>

<div style="text-align:left; float:left;"><STRONG>WindowContents(w) : list </STRONG> </div><div style="text-align:right; float:right"> <STRONG>window display list</STRONG></div><br>
<p>

<code>WindowContents(w)</code> returns a list of display elements, which are
records or lists. Each element has a function name followed by the
parameters of the function, or an attribute followed by its value.
<p>
<p><hr />
<A name="WriteImage"> </A>

<div style="text-align:left; float:left;"><STRONG>WriteImage(w, s, x:0, y:0, width:0, height:0) : window </STRONG> </div><div style="text-align:right; float:right"> <STRONG>save image file</STRONG></div><br>
<p>

<code>WriteImage(w,s,x,y,width,height)</code> saves an image of dimensions
width, height from window w at offset <code>x,y</code> to a file named
<code>s</code>. The default is to write the entire window. The file
is written according to the filename extension, in either GIF, JPG,
BMP, PNG, or a platform specific format such as XBM or XPM.
  <code>WriteImage()</code> fails if <code>s</code> cannot be opened for
writing.
<p>
<p><hr />
<A name="WSection"> </A>

<div style="text-align:left; float:left;"><STRONG>WSection(w, s) : record</STRONG> </div><div style="text-align:right; float:right"> <STRONG>define window section</STRONG></div><br>
<p>

<code>WSection(w,s)</code> starts a new window section named <code>s</code> on
3D window <code>w</code> and returns a display list section marker record.
During window refreshes if the section marker's
<code>skip</code> field is 1, the section is skipped. The section name
<code>s</code> is produced by <code>&amp;pick</code> if a primitive in the block
is clicked on while attribute
<code>"pick=on"</code>.
<code>WSection(w)</code> marks the end of a preceding section.
<code>WSection()</code> blocks may be nested.
<p>
<p><hr />
<A name="WSync"> </A>

<div style="text-align:left; float:left;"><STRONG>WSync(w, s) : w</STRONG> </div><div style="text-align:right; float:right"> <STRONG>synchronize with window system server</STRONG></div><br>
<p>

<code>WSync(w,s)</code> synchronizes the program with the server attached to
window <code>w</code> on those window systems that employ a client-server
model. Output to the window is flushed, and <code>WSync()</code> waits
for a reply from the server indicating all output has been processed.
  If <code>s</code> is <code>"yes"</code>, all
events pending on <code>w</code> are discarded. <code>WSync()</code> is a no-op
on window systems that do not use a client-server model.
<p>

<h3> Pattern functions </h3>


<p><hr />
<A name="Abort"> </A>
<div style="text-align:left; float:left;"><STRONG>Abort()</STRONG> </div><div style="text-align:right; float:right"> <STRONG>
pattern cancel</STRONG></div><br>
<p>

Abort() causes an immediate failure of the entire pattern match.

<p><hr />
<A name="Any"> </A>
<div style="text-align:left; float:left;"><STRONG>Any(c)</STRONG> </div><div style="text-align:right; float:right"> <STRONG>
match any</STRONG></div><br>
<p>

Any(c) matches any single character contained in c appearing in the subject string.

<p><hr />
<A name="Arb"> </A>
<div style="text-align:left; float:left;"><STRONG>Arb()</STRONG> </div><div style="text-align:right; float:right"> <STRONG>
arbitrary pattern</STRONG></div><br>
<p>

Arb() matches zero or more characters in the subject string.

<p><hr />
<A name="Arbno"> </A>
<div style="text-align:left; float:left;"><STRONG>Arbno(p)</STRONG> </div><div style="text-align:right; float:right"> <STRONG>
repetitive arbitrary pattern</STRONG></div><br>
<p>

Arbno(p) matches repetitive sequences of p in the subject string.

<p><hr />
<A name="Bal"> </A>
<div style="text-align:left; float:left;"><STRONG>Bal()</STRONG> </div><div style="text-align:right; float:right"> <STRONG>
balanced parentheses</STRONG></div><br>
<p>

Bal() matches the shortest non-null string which parentheses are balanced in
the subject string.

<p><hr />
<A name="Break"> </A>
<div style="text-align:left; float:left;"><STRONG>Break(c)</STRONG> </div><div style="text-align:right; float:right"> <STRONG>
pattern break</STRONG></div><br>
<p>

Break(c) matches any characters in the subject string up to but not
including any of the characters in cset c.

<p><hr />
<A name="Breakx"> </A>
<div style="text-align:left; float:left;"><STRONG>Breakx(c)</STRONG> </div><div style="text-align:right; float:right"> <STRONG>
extended pattern break</STRONG></div><br>
<p>

Breakx(c) matches any characters up to any of the subject characters in c,
and will search beyond the break position for a possible larger match.

<p><hr />
<A name="Fail"> </A>
<div style="text-align:left; float:left;"><STRONG>Fail()</STRONG> </div><div style="text-align:right; float:right"> <STRONG>
pattern back</STRONG></div><br>
<p>

Fail() signals a failure in the current portion of the pattern match and
sends an instruction to go back and try a different alternative.

<p><hr />
<A name="Fence"> </A>
<div style="text-align:left; float:left;"><STRONG>Fence()</STRONG> </div><div style="text-align:right; float:right"> <STRONG>
pattern fence</STRONG></div><br>
<p>

Fence() signals a failure in the current portion of the pattern match if it
is trying to backing up to try other alternatives.

<p><hr />
<A name="Len"> </A>
<div style="text-align:left; float:left;"><STRONG>Len(i)</STRONG> </div><div style="text-align:right; float:right"> <STRONG>
match fixed-length string</STRONG></div><br>
<p>

Len(i) matches a string of a length of i characters in the subject
string. It fails if i is greater than the number of characters remaining in
the subject string.

<p><hr />
<A name="NotAny"> </A>
<div style="text-align:left; float:left;"><STRONG>NotAny(c)</STRONG> </div><div style="text-align:right; float:right"> <STRONG>
match anything but</STRONG></div><br>
<p>

NotAny(c) matches any single character not contained in character set c
appearing in the subject string.

<p><hr />
<A name="Nspan"> </A>
<div style="text-align:left; float:left;"><STRONG>Nspan(c)</STRONG> </div><div style="text-align:right; float:right"> <STRONG>
optional pattern span</STRONG></div><br>
<p>

Nspan() matches the longest available sequence of zero or more characters
from the subject string that are contained in c.

<p><hr />
<A name="Pos"> </A>
<div style="text-align:left; float:left;"><STRONG>Pos(i)</STRONG> </div><div style="text-align:right; float:right"> <STRONG>
cursor position</STRONG></div><br>
<p>

Pos(i) sets the cursor or index position of the subject string to the
position i according the Unicon index system shown below:

<pre>
-6 -5 -4 -3 -2 -1  0
 |U |n |i |c |o |n |
 1  2  3  4  5  6  7
</pre>

<p><hr />
<A name="Rem"> </A>
<div style="text-align:left; float:left;"><STRONG>Rem()</STRONG> </div><div style="text-align:right; float:right"> <STRONG>
remainder pattern</STRONG></div><br>
<p>

Rem() matches the remainder of the subject string.

<p><hr />
<A name="Span"> </A>
<div style="text-align:left; float:left;"><STRONG>Span(c)</STRONG> </div><div style="text-align:right; float:right"> <STRONG>
pattern span</STRONG></div><br>
<p>

Span(c) matches one or more characters from the subject string that are
contained in c. It must match at least one character.

<p><hr />
<A name="Succeed"> </A>
<div style="text-align:left; float:left;"><STRONG>Succeed()</STRONG> </div><div style="text-align:right; float:right"> <STRONG>
pattern succeeds</STRONG></div><br>
<p>

Succeed() produces a pattern that, when matched, will cause the surrounding
pattern match to succeed without further scrutiny.

<p><hr />
<A name="Tab"> </A>
<div style="text-align:left; float:left;"><STRONG>Tab(n)</STRONG> </div><div style="text-align:right; float:right"> <STRONG>
pattern tab</STRONG></div><br>
<p>

Tab(n) matches any characters from the current cursor or index position up
to the specified position of the subject string. Tab() uses the Unicon index
system shown in Pos() and position n must be to the right of the current
position.

<p><hr />
<A name="Rpos"> </A>
<div style="text-align:left; float:left;"><STRONG>Rpos(n)</STRONG> </div><div style="text-align:right; float:right"> <STRONG>
reverse cursor position</STRONG></div><br>
<p>

Rpos(n) sets the cursor or index position of the subject string to the
position n back from the end of the string, equivalent to using Unicons
negative indices in Pos().

<pre>
6 5 4 3 2 1 0
|S|N|O|B|O|L|
</pre>

<p><hr />
<A name="Rtab"> </A>
<div style="text-align:left; float:left;"><STRONG>Rtab(i)</STRONG> </div><div style="text-align:right; float:right"> <STRONG>
pattern reverse tab</STRONG></div><br>
<p>

Rtab(i) matches any characters from the current cursor or index position up
to the specified position (back from the end) of the subject string,
equivalent to using a negative index in Tab(). Position n must be to the
right of the current position.




<H2>Preprocessor</H2>
<p>

Unicon features a simple <A name="preprocessor"> </A>preprocessor that
supports file inclusion and symbolic constants. It is a subset of the
capabilities found in the C preprocessor, and is used primarily to support
platform-specific code sections and large collections of symbols.

<p>
<H3>Preprocessor commands</H3>
<p>
Preprocessor directives are lines beginning with a dollar sign. The
available preprocessor commands are:
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>$define symbol text </STRONG> </div><div style="text-align:right; float:right"> <STRONG>symbolic substitution</STRONG></div><br>
<p>

<A name="define symbols"> </A>All subsequent occurrences of <em>symbol</em> are
replaced by the <em>text</em> within the current file. Note that
$define does not support arguments, unlike C.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>$include filename </STRONG> </div><div style="text-align:right; float:right"> <STRONG>insert source file</STRONG></div><br>
<p>

<A name="include"> </A>The named file is inserted into the compilation in place
of the $include line.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>$ifdef symbol </STRONG> </div><div style="text-align:right; float:right"> <STRONG>conditional compilation</STRONG></div><br>
<p>

<div style="text-align:left; float:left;"><A name="ifdef symbol"> </A><STRONG>$ifndef <em>symbol</em> </STRONG> </div><div style="text-align:right; float:right"> <STRONG>conditional compilation</STRONG></div><br>

<div style="text-align:left; float:left;"><STRONG>$else </STRONG> </div><div style="text-align:right; float:right"> <STRONG>conditional alternative</STRONG></div><br>

<div style="text-align:left; float:left;"><STRONG>$endif </STRONG> </div><div style="text-align:right; float:right"> <STRONG>end of conditional code</STRONG></div><br>
<p>
The subsequent lines of code, up to an $else or $endif, are discarded
unless <em>symbol</em> is defined by some $define directive. $ifndef
reverses this logic.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>$error text </STRONG> </div><div style="text-align:right; float:right"> <STRONG>compile error</STRONG></div><br>
<p>

<A name="compile"> </A>The <A name="compiler"> </A>compiler will emit an error with the
supplied text as a message.
<p>
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>$line <em>number</em> [<em>filename</em>] </STRONG> </div><div style="text-align:right; float:right"> <STRONG>source code line</STRONG></div><br>
<A name="source code $line"> </A>
<div style="text-align:left; float:left;"><STRONG>#line <em>number</em> [<em>filename</em>] </STRONG> </div><div style="text-align:right; float:right"> <STRONG>source code line</STRONG></div><br>
<p>

The subsequent lines of code are treated by the compiler as commencing
from line <em>number</em> in the file <em>filename</em> or the current
file if no filename is given.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>$undef symbol </STRONG> </div><div style="text-align:right; float:right"> <STRONG>remove symbol definition</STRONG></div><br>
<p>

<A name="undef"> </A>Subsequent occurrences of <em>symbol</em> are no longer
replaced by any substitute text.
<p>
<p><hr />

<div style="text-align:left; float:left;"><STRONG>EBCDIC transliterations </STRONG> </div><div style="text-align:right; float:right"> <STRONG>alternative bracket characters</STRONG></div><br>
<p>

These character combinations were introduced for legacy keyboards that
were missing certain bracket characters.
<p>
<PRE>
<STRONG>$ for   { </STRONG> <br>
<STRONG>$) for } </STRONG> <br>
<STRONG>$&lt;  for [ </STRONG> <br>
<STRONG>$&gt; for ] </STRONG>
</PRE>
<p>
These character combinations are substitutes for curly and square
brackets on keyboards that do not have these characters.
<p>
<H3>Predefined symbols</H3>
<p>
<A name="predefined symbols"> </A>Predefined symbols are provided for each
platform and each feature that is optionally compiled in on some
platforms. These symbols include:
<p>
<b>Preprocessor Symbol        Feature</b>
<p>
_V9                    Version 9<br>
_CMS                    CMS<br>
_MACINTOSH            Macintosh<br>
_MSDOS_386            MS-DOS/386<br>
_MS_WINDOWS_NT        MS Windows NT<br>
_MSDOS                MS-DOS<br>
_MVS                    MVS<br>
_OS2                    OS/2<br>
_PORT                PORT<br>
_UNIX                    UNIX<br>
_POSIX                POSIX<br>
_DBM                    <A name="DBM"> </A>DBM<br>
_VMS                    VMS<br>
_ASCII                <A name="ASCII"> </A>ASCII<br>
_EBCDIC                <A name="EBCDIC"> </A>EBCDIC<br>
_CO_EXPRESSIONS        co-expressions<br>
_CONSOLE_WINDOW        console window<br>
_DYNAMIC_LOADING        dynamic loading<br>
_EVENT_MONITOR        event monitoring<br>
_EXTERNAL_FUNCTIONS    external functions<br>
_KEYBOARD_FUNCTIONS    <A name="keyboard"> </A>keyboard functions<br>
_LARGE_INTEGERS        large integers<br>
_MULTITASKING            multiple programs<br>
_PIPES                pipes<br>
_RECORD_IO            record I/O<br>
_SYSTEM_FUNCTION        system function<br>
_MESSAGING            messaging<br>
_GRAPHICS                graphics<br>
_X_WINDOW_SYSTEM        X Windows<br>
_MS_WINDOWS            MS Windows<br>
_WIN32                      Win32<br>
_PRESENTATION_MGR        Presentation Manager<br>
_DOS_FUNCTIONS            MS-DOS extensions
<p>
<H2>Execution Errors</H2>
<p>
There are two kinds of errors that can occur during the execution of an
Icon program: runtime errors and system errors. Runtime errors occur
when a semantic or logic error in a program results in a computation
that cannot perform as instructed. System errors occur when an
operating system call <A name="fail!system call"> </A>fails to perform a
required service.
<p>
<H3>Runtime errors</H3>
<p>
By default, a <A name="runtime error"> </A>runtime error causes program
execution to abort. Runtime errors are reported by name as well as by
number. They are accompanied by an error traceback that shows the
procedure call stack and value that caused the error, if there is one.
The errors are listed below to illustrate the kinds of situations that
can cause execution to terminate.
<p>
The keyword <code>&amp;error</code> turns runtime errors into
expression failure. When an expression fails due to a converted runtime
error, the keywords <code>&amp;errornumber</code>, <code>&amp;errortext</code>, and
<code>&amp;errorvalue</code> provide information about the nature of the error.
<p>
101               integer expected or out of range<br>
102               numeric expected<br>
103               string expected<br>
104               cset expected<br>
105               file expected<br>
106               procedure or integer expected<br>
107               record expected<br>
108               list expected<br>
109               string or file expected<br>
110               string or list expected<br>
111               variable expected<br>
112               invalid type to size operation<br>
113               invalid type to random operation<br>
114               invalid type to subscript operation<br>
115               structure expected<br>
116               invalid type to element generator<br>
117               missing main procedure<br>
118               co-expression expected<br>
119               set expected<br>
120               two csets or two sets expected<br>
121               function not supported<br>
122               set or table expected<br>
123               invalid type<br>
124               table expected<br>
125               list, record, or set expected<br>
126               list or record expected<br>
140               window expected<br>
141               program terminated by window manager<br>
142               attempt to read/write on closed window<br>
143               malformed event queue<br>
144               window system error<br>
145               bad window attribute<br>
146               incorrect number of arguments to drawing
function<br>
147               window attribute cannot be read or written as
requested<br>
160               cannot open file<br>
161               bad file attribute<br>
162               cannot open socket<br>
170               string or integer expected<br>
171               posix header file not included<br>
172               posix record overridden by global value<br>
173               directory opened for writing<br>
174               directory or database invalid as file<br>
175               invalid mode string<br>
176               invalid signal<br>
177               invalid operation to flock/fcntl<br>
178               invalid procedure type<br>
179               fdup of closed file<br>
180               low-level read or select mixed with buffered
read<br>
181               not a network connection<br>
182               not a UDP socket<br>
183               invalid protocol name<br>
184               invalid permission string for umask<br>
185               converting an active co-expression to a thread is not supported<br>
190               database expected<br>
201               division by zero<br>
202               remaindering by zero<br>
203               integer overflow<br>
204               real overflow, underflow, or division by zero<br>
205               invalid value<br>
206               negative first argument to real exponentiation<br>
207               invalid field name<br>
208               second and third arguments to map of unequal
length<br>
209               invalid second argument to open<br>
210               non-ascending arguments to detab/entab<br>
211               by value equal to zero<br>
212               attempt to read file not open for reading<br>
213               attempt to write file not open for writing<br>
214               input/output error<br>
215               attempt to refresh &amp;main<br>
216               external function not found<br>
217               unsafe inter-program variable assignment<br>
301               evaluation stack overflow<br>
302               memory violation<br>
303               inadequate space for evaluation stack<br>
304               inadequate space in qualifier list<br>
305               inadequate space for static allocation<br>
306               inadequate space in string region<br>
307               inadequate space in block region<br>
308               system stack overflow in co-expression<br>
309               pattern stack overflow<br>
316               interpreter stack too large<br>
318               co-expression stack too large<br>
401               co-expressions not implemented<br>
402               program not compiled with debugging option<br>
500               program malfunction<br>
600               vidget usage error
<p>

<H3>System errors</H3>
<p>

If an error occurs during the execution of a <A name="error!system">
</A>system function, by default the function fails and keywords
&amp;errornumber, &amp;errortext and &amp;errorvalue will be set. This
contrasts with runtime errors, which terminate execution by default. Whereas
runtime errors can be converted to failure by setting &amp;error, system
errors can be converted to a runtime error by setting keyword &amp;syserr to
a non-null value.

<p>

The complete set of <A name="system error"> </A>system errors is by
definition platform specific. Error numbers above the value 1000 are used
for system errors. Many of the POSIX standard system errors are supported
across platforms, and error numbers between 1001 and 1040 are reserved for
the system errors listed below. Platforms may report other system error
codes so long as they do not conflict with existing runtime or system error
codes.

<p>
1001           Operation not permitted<br>
1002           No such file or directory<br>
1003           No such process<br>
1004           Interrupted system call<br>
1005           I/O error<br>
1006           No such device or address<br>
1007           Arg list too long<br>
1008           Exec format error<br>
1009           Bad file number<br>
1010           No child processes<br>
1011           Try again<br>
1012           Out of memory<br>
1013           Permission denied<br>
1014           Bad address<br>
1016           Device or resource busy<br>
1017           File exists<br>
1018           Cross-device <A name="link!file system"> </A>link<br>
1019           No such device<br>
1020           Not a directory<br>
1021           Is a directory<br>
1022           Invalid argument<br>
1023           File table overflow<br>
1024           Too many open files<br>
1025           Not a typewriter<br>
1027           File too large<br>
1028           No space left on device<br>
1029           Illegal seek<br>
1030           Read-only file system<br>
1031           Too many links<br>
1032           Broken pipe<br>
1033           Math argument out of domain of func<br>
1034           Math result not representable<br>
1035           Resource deadlock would occur<br>
1036           File name too long<br>
1037           No record locks available<br>
1038           Function not implemented<br>
1039           Directory not empty<br>
1040           socket error<br>

1041           cannot initialize network library<br>
1042           fdup of closed file<br>
1043           invalid signal<br>
1044           invalid operation to flock/fcntl<br>
1045           invalid mode string<br>
1046           invalid permission string for umask<br>
1047           invalid protocol name<br>
1048           low-level read or select mixed with buffered read<br>
1100           ODBC connection expected<br>
1200           system error (see errno)<br>
1201           malformed URL<br>
1202           missing username in URL<br>
1203           unknown scheme in URL<br>
1204           cannot parse URL<br>
1205           cannot connect<br>
1206           unknown host<br>
1207           invalid field in header<br>
1208           messaging file expected<br>
1209           cannot determine smtpserver (set UNICON_SMTPSERVER)<br>

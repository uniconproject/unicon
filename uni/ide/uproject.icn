#
# IDE Project build support.
# This New Unicon Project is done by Hani Bani-Salameh
#

import gui
$include "guih.icn"
global filedirectory


#
# class UProject represents a Unicon Project as well as the associated
# dialog for editing that project, i.e. it should support both the
# data structures and methods for doing a project build as well as the
# external user interface components to allow the user to modify it.
# The one external that is not a part of this is the tree component in
# the navigation area of the IDE, which should be updated when the
# project contents change.
#
class UProject : Dialog(filesAdd_btn, filesDel_btn,
   sourcefiles_list, Utargetfile, projectname,
   Makefile_name, compilerName, compilerflags,
   linkerName, linkerflags, targetFile_name, selectedfile,
   uproj_TabSet, files_tab, fileslist, fileslist1, prjPath,
   filesloclist, UIDE_VERS, makeName, cc, ld, wcc, wld, lFlags,
   cFlags, ObjDir, BinDir, SrcDir, files_added, tfile, inputstr,
   pname)

   method component_setup()
      self.setup()
   end

   method end_dialog()
   end

   method init_dialog()
      local cmp, lnk, cmpOpts, lnkOpts #To identify the compiler and
                                       #linker respectively and their options
      pname := file_name(projectname)

      if find(".uprj"|".icn", projectname) then
         projectname := file_name(projectname)
      #else projectname := pname

      Makefile_name.set_contents(projectname || "_uprjMakefile")
$ifdef _UNIX
      targetFile_name.set_contents(projectname)
      compilerName.set_contents(cc)
      compilerflags.set_contents(cFlags)
      linkerName.set_contents(ld)
      linkerflags.set_contents(lFlags)
$else # implies Windows for now
      targetFile_name.set_contents(projectname||".exe")
      compilerName.set_contents(wcc)
      compilerflags.set_contents(cFlags)
      linkerName.set_contents(wld)
      linkerflags.set_contents(lFlags)
$endif
      files_added := 0
      fileslist := []
      fileslist1 := []
      filesloclist := []
      UIDE_VERS := "0.1"
      makeName := projectname||"_uprjMakefile"
   end

   method on_ok_btn(ev)
   local projpath
      tfile := fileslist[1]
      Utargetfile := tfile[1:*(\tfile)-3]
      createMakefile()

$ifdef _UNIX
      filedirectory ||:= "/"
$else
      filedirectory ||:= "\\"
$endif
      projpath := filedirectory || projectname
      ide.handle_openproject(ev, projpath||".uprj",projectname||".uprj")
      self.dispose()
   end

   #
   # Build the file name "uprjMakefile" using
   # information stored in project
   #
   method createMakefile()
      local l := "", resName := "", f, i, file, pathname
      projectCreated := "TRUE"
      # Append a trailing slash, but only if one isn't there already.
      if not any('/\\', filedirectory[-1]) then {
$ifdef _UNIX
         filedirectory ||:= "/"
$else
         filedirectory ||:= "\\"
$endif
         }

      pathname := filedirectory||projectname||"_Makefile"
      if not (f := open(pathname, "w")) then {
         write(&errout, "could not open/write ", image(pathname))
         fail
         }

      write(f,"#", repl("=",55))
      writes(f,"#@V@:Note: File automatically generated by UI IDE ")
      write(f, UIDE_VERS, " (",compilerName.get_contents(),").")
      write(f,"# Generated ",&clock," ",&date)
      write(f,"#", repl("=",55))
      write(f,"# Standard defines:")
      write(f,"UC=",compilerName.get_contents())
      write(f,"DEL=rm")
      writes(f,"\nUFILES=")
      getUFiles(f)
      write(f,"\n\nall: order\n")
      #clean
         write(f,"clean:")
         write(f,"\t$(DEL) $(UFILES) uniclass.* *~ ", projectname)
         write(f)

      #deps
         write(f,"deps:")
         writes(f,"\tunidep ")
         every writes(f,file_name(!fileslist), " ")
         write(f,"\n")
      #order
         writes(f,"order: ")
         every file := map(!fileslist) do {
            writes(f,file_name(file[-3:-(*file)])||"u ")
            }
         write(f)
         writes(f,"\t$(UC) -o UProject ")
         every file := map(!fileslist) do {
            writes(f,file_name(file[-3:-(*file)])||"u ")
            }
         write(f,"\n")
      #compilation
         write(f,"%.u: %.icn")
         write(f,"\t$(UC) -c $*")

      close(f)
   end

   #
   # getUFiles() - This will take the list of files in the SourceFiles list and
   # convert them to a string with the UFILES part strip suitable
   # for makefiles.
   #
   method getUFiles(f)
      local file
      every file := map(!fileslist) do {
         writes(f, " ", file_name(file[1:*file-3]), ".u")
         }
   end

   #
   # getSRCFiles() - takes the list of files in the SourceFiles list and
   # converts them to a string with the SRCFILES part strip suitable
   # for makefiles.
   method getSRCFiles(f)
      every writes(f," ", file_name(map(!fileslist)))
   end

   #  =====================>>> txtDialog <<<==========================
   method txtDialog(text)
      local oldwindow
      /inputstr := ""
      oldwindow := &window
      &window := win
         TextDialog(text,,inputstr,18)
         inputstr := dialog_value[1]
      &window := oldwindow
      return inputstr
   end

   method on_filesAdd(ev)
      files_added +:= 1
      prjPath := chdir(filedirectory)
      selectedfile := (ide.ProjectSave())
      put(fileslist,\file_name(selectedfile))
      put(fileslist1,\selectedfile)
      sourcefiles_list.set_contents(\fileslist)
   end

   method on_filesDel(ev)
      delete(fileslist,sourcefiles_list.get_cursor())
      delete(fileslist1,sourcefiles_list.get_cursor())
      sourcefiles_list.set_contents(fileslist)
   end

   method on_close(ev)
      dispose()
   end

   method setup()
      local files_tab, names_lbl1, names_lbl2, names_lbl3, names_lbl4,
            names_lbl5, names_lbl6, names_tab, ok_btn, sourcefiles_lbl
      self.set_attribs("size=414,308", "font=serif,bold,14",
                       "label=New Unicon Project ", "bg=light gray")
      uproj_TabSet := TabSet()
      uproj_TabSet.set_pos("5", "5")
      uproj_TabSet.set_size("100%-10", "100%-35")
      uproj_TabSet.set_attribs("font=serif,14,bold")
      names_tab := TabItem()
      names_tab.set_label("Names")
      names_lbl1 := Label()
      names_lbl1.set_pos("15", "30")
      names_lbl1.set_size("140", "25")
      names_lbl1.set_internal_alignment("l")
      names_lbl1.set_label("Target File Name:")
      names_tab.add(names_lbl1)
      names_lbl2 := Label()
      names_lbl2.set_pos("15", "65")
      names_lbl2.set_size("140", "25")
      names_lbl2.set_internal_alignment("l")
      names_lbl2.set_label("Makefile Name:")
      names_tab.add(names_lbl2)
      names_lbl3 := Label()
      names_lbl3.set_pos("15", "100")
      names_lbl3.set_size("140", "25")
      names_lbl3.set_internal_alignment("l")
      names_lbl3.set_label("Compiler:")
      names_tab.add(names_lbl3)
      names_lbl5 := Label()
      names_lbl5.set_pos("15", "170")
      names_lbl5.set_size("140", "25")
      names_lbl5.set_internal_alignment("l")
      names_lbl5.set_label("Linker:")
      names_tab.add(names_lbl5)
      names_lbl4 := Label()
      names_lbl4.set_pos("15", "135")
      names_lbl4.set_size("140", "25")
      names_lbl4.set_internal_alignment("l")
      names_lbl4.set_label("Compiler Flags:")
      names_tab.add(names_lbl4)
      names_lbl6 := Label()
      names_lbl6.set_pos("15", "205")
      names_lbl6.set_size("140", "25")
      names_lbl6.set_internal_alignment("l")
      names_lbl6.set_label("Linker Flags:")
      names_tab.add(names_lbl6)
      targetFile_name := TextField()
      targetFile_name.set_pos("175", "30")
      targetFile_name.set_size("150", "25")
      targetFile_name.set_draw_border()
      targetFile_name.set_contents("")
      names_tab.add(targetFile_name)
      Makefile_name := TextField()
      Makefile_name.set_pos("175", "65")
      Makefile_name.set_size("150", "25")
      Makefile_name.set_draw_border()
      Makefile_name.set_contents("")
      names_tab.add(Makefile_name)
      compilerName := TextField()
      compilerName.set_pos("175", "100")
      compilerName.set_size("150", "25")
      compilerName.set_draw_border()
      compilerName.set_contents("")
      names_tab.add(compilerName)
      compilerflags := TextField()
      compilerflags.set_pos("175", "135")
      compilerflags.set_size("150", "25")
      compilerflags.set_draw_border()
      compilerflags.set_contents("")
      names_tab.add(compilerflags)
      linkerName := TextField()
      linkerName.set_pos("175", "170")
      linkerName.set_size("150", "25")
      linkerName.set_draw_border()
      linkerName.set_contents("")
      names_tab.add(linkerName)
      linkerflags := TextField()
      linkerflags.set_pos("175", "205")
      linkerflags.set_size("150", "25")
      linkerflags.set_draw_border()
      linkerflags.set_contents("")
      names_tab.add(linkerflags)
      uproj_TabSet.add(names_tab)
      files_tab := TabItem()
      files_tab.set_label("Files")
      sourcefiles_lbl := Label()
      sourcefiles_lbl.set_pos("10", "10")
      sourcefiles_lbl.set_size("120", "25")
      sourcefiles_lbl.set_internal_alignment("l")
      sourcefiles_lbl.set_label("Source Files:")
      files_tab.add(sourcefiles_lbl)
      sourcefiles_list := TextList()
      sourcefiles_list.set_pos("10", "45")
      sourcefiles_list.set_size("255", "170")
      sourcefiles_list.set_draw_border()
      sourcefiles_list.set_attribs("bg=white")
      sourcefiles_list.set_contents([""])
      files_tab.add(sourcefiles_list)
      filesAdd_btn := TextButton()
      filesAdd_btn.set_pos("280", "150")
      filesAdd_btn.set_size("70", )
      filesAdd_btn.connect(self, "on_filesAdd", ACTION_EVENT)
      filesAdd_btn.clear_toggles()
      filesAdd_btn.set_label("Add")
      filesAdd_btn.set_internal_alignment("c")
      files_tab.add(filesAdd_btn)
      filesDel_btn := TextButton()
      filesDel_btn.set_pos("280", "185")
      filesDel_btn.set_size("70", )
      filesDel_btn.connect(self, "on_filesDel", ACTION_EVENT)
      filesDel_btn.clear_toggles()
      filesDel_btn.set_label("Del")
      filesDel_btn.set_internal_alignment("c")
      files_tab.add(filesDel_btn)
      uproj_TabSet.add(files_tab)
      uproj_TabSet.set_which_one(names_tab)
      self.add(uproj_TabSet)
      ok_btn := TextButton()
      ok_btn.set_pos("50%", "281")
      ok_btn.set_size("69", )
      ok_btn.set_align("c", "t")
      ok_btn.connect(self, "on_ok_btn", ACTION_EVENT)
      ok_btn.clear_toggles()
      ok_btn.set_label("Create")
      ok_btn.set_internal_alignment("c")
      self.add(ok_btn)
      self.connect(self, "on_close", CLOSE_BUTTON_EVENT)
   end

initially(pname, fdirectory)
   projectname := pname
   filedirectory := fdirectory

   cc := "unicon"    #linux compiler
   ld := "unicon"    #linux linker
   wcc := "wicont"   #windows compiler
   wld := "wicont"   #windows compiler
   cFlags := "-c"
   lFlags := ""

   self.Dialog.initially()
end

### Ivib-v2 layout ##
#class|Canvas|17|Name Table|table|integer|0|18|string|border|integer|3|
#string|icon|integer|2|string|icon_button|integer|1|string|label|intege
#r|15|string|objPath_btn|integer|1|string|on_userMakfileOptAdd_btn|inte
#ger|2|string|on_userMakfileOptDel_btn|integer|1|string|overlay_item|in
#teger|3|string|overlay_set|integer|1|string|tab_item|integer|7|string|
#tab_set|integer|1|string|text_button|integer|17|string|text_field|inte
#ger|8|string|text_list|integer|7|string|tree|integer|1|string|userMake
#fileOpts_list|integer|1|string|userMakfileOptAdd_btn|integer|2|string|
#userMakfileOptDel_btn|integer|1|SuperClass Name|string|Dialog|Import N
#ame|string|gui|Button Groups|class|ButtonGroupSet|2|Parent Canvas|1|Bo
#xes|list|0|Checkbox Groups|class|CheckBoxGroupSet|2|Parent Canvas|1|Bo
#xes|list|0|Gen Indent|integer|3|Gen Main|integer|1|Gen Component Setup
#|integer|1|Gen Init Dialog|integer|1|Gen Initially|integer|1|Dialog St
#ruct|class|CDialog|4|Min Width|null|Min Height|null|Ticker Rate|null|A
#ttribs|list|3|string|font=serif,bold,14|string|label=New Unicon Projec
#t |string|bg=light gray|Name|string|UProject|Width|integer|414|Height|
#integer|308|Items|list|2|class|CanvasTabSet|27|Parent Canvas|1|Name|st
#ring|uproj_TabSet|Class Name|string|TabSet|Import Name|string|gui|X Fi
#x|null|Y Fix|null|W Fix|null|H Fix|null|W Default|null|H Default|null|
#X Spec|string|5|Y Spec|string|5|W Spec|string|100%-10|H Spec|string|10
#0%-35|X Align|string|l|Y Align|string|t|Is shaded|null|Is Button Subcl
#ass|null|Draw Border|null|Attribs|list|1|string|font=serif,14,bold|Too
#ltip|null|Accel|null|Event Handlers|list|0|Class Variable|integer|1|Pa
#rent Component|1|Children|list|2|class|CanvasTabItem|28|Parent Canvas|
#1|Name|string|names_tab|Class Name|string|TabItem|Import Name|string|g
#ui|X Fix|null|Y Fix|null|W Fix|null|H Fix|null|W Default|null|H Defaul
#t|null|X Spec|integer|0|Y Spec|integer|0|W Spec|string|100%|H Spec|str
#ing|100%|X Align|string|l|Y Align|string|t|Is shaded|null|Is Button Su
#bclass|null|Draw Border|null|Attribs|list|0|Tooltip|null|Accel|null|Ev
#ent Handlers|null|Class Variable|null|Parent Component|10|Label|string
#|Names|Parent TabSet|10|Children|list|12|class|CanvasLabel|27|Parent C
#anvas|1|Name|string|names_lbl1|Class Name|string|Label|Import Name|str
#ing|gui|X Fix|null|Y Fix|null|W Fix|null|H Fix|null|W Default|null|H D
#efault|null|X Spec|string|15|Y Spec|string|30|W Spec|string|140|H Spec
#|string|25|X Align|string|l|Y Align|string|t|Is shaded|null|Is Button 
#Subclass|null|Draw Border|null|Attribs|list|0|Tooltip|null|Accel|null|
#Event Handlers|list|0|Class Variable|null|Parent Component|14|Label|st
#ring|Target File Name:|Internal Align|string|l|class|CanvasLabel|27|Pa
#rent Canvas|1|Name|string|names_lbl2|Class Name|string|Label|Import Na
#me|string|gui|X Fix|null|Y Fix|null|W Fix|null|H Fix|null|W Default|nu
#ll|H Default|null|X Spec|string|15|Y Spec|string|65|W Spec|string|140|
#H Spec|string|25|X Align|string|l|Y Align|string|t|Is shaded|null|Is B
#utton Subclass|null|Draw Border|null|Attribs|list|0|Tooltip|null|Accel
#|null|Event Handlers|list|0|Class Variable|null|Parent Component|14|La
#bel|string|Makefile Name:|Internal Align|string|l|class|CanvasLabel|27
#|Parent Canvas|1|Name|string|names_lbl3|Class Name|string|Label|Import
# Name|string|gui|X Fix|null|Y Fix|null|W Fix|null|H Fix|null|W Default
#|null|H Default|null|X Spec|string|15|Y Spec|string|100|W Spec|string|
#140|H Spec|string|25|X Align|string|l|Y Align|string|t|Is shaded|null|
#Is Button Subclass|null|Draw Border|null|Attribs|list|0|Tooltip|null|A
#ccel|null|Event Handlers|list|0|Class Variable|null|Parent Component|1
#4|Label|string|Compiler:|Internal Align|string|l|class|CanvasLabel|27|
#Parent Canvas|1|Name|string|names_lbl5|Class Name|string|Label|Import 
#Name|string|gui|X Fix|null|Y Fix|null|W Fix|null|H Fix|null|W Default|
#null|H Default|null|X Spec|string|15|Y Spec|string|170|W Spec|string|1
#40|H Spec|string|25|X Align|string|l|Y Align|string|t|Is shaded|null|I
#s Button Subclass|null|Draw Border|null|Attribs|list|0|Tooltip|null|Ac
#cel|null|Event Handlers|list|0|Class Variable|null|Parent Component|14
#|Label|string|Linker:|Internal Align|string|l|class|CanvasLabel|27|Par
#ent Canvas|1|Name|string|names_lbl4|Class Name|string|Label|Import Nam
#e|string|gui|X Fix|null|Y Fix|null|W Fix|null|H Fix|null|W Default|nul
#l|H Default|null|X Spec|string|15|Y Spec|string|135|W Spec|string|140|
#H Spec|string|25|X Align|string|l|Y Align|string|t|Is shaded|null|Is B
#utton Subclass|null|Draw Border|null|Attribs|list|0|Tooltip|null|Accel
#|null|Event Handlers|list|0|Class Variable|null|Parent Component|14|La
#bel|string|Compiler Flags:|Internal Align|string|l|class|CanvasLabel|2
#7|Parent Canvas|1|Name|string|names_lbl6|Class Name|string|Label|Impor
#t Name|string|gui|X Fix|null|Y Fix|null|W Fix|null|H Fix|null|W Defaul
#t|null|H Default|null|X Spec|string|15|Y Spec|string|205|W Spec|string
#|140|H Spec|string|25|X Align|string|l|Y Align|string|t|Is shaded|null
#|Is Button Subclass|null|Draw Border|null|Attribs|list|0|Tooltip|null|
#Accel|null|Event Handlers|list|0|Class Variable|null|Parent Component|
#14|Label|string|Linker Flags:|Internal Align|string|l|class|CanvasText
#Field|27|Parent Canvas|1|Name|string|targetFile_name|Class Name|string
#|TextField|Import Name|string|gui|X Fix|null|Y Fix|null|W Fix|null|H F
#ix|null|W Default|null|H Default|null|X Spec|string|175|Y Spec|string|
#30|W Spec|string|150|H Spec|string|25|X Align|string|l|Y Align|string|
#t|Is shaded|null|Is Button Subclass|null|Draw Border|integer|1|Attribs
#|list|0|Tooltip|null|Accel|null|Event Handlers|list|0|Class Variable|i
#nteger|1|Parent Component|14|Contents|string||Filter String|string||cl
#ass|CanvasTextField|27|Parent Canvas|1|Name|string|Makefile_name|Class
# Name|string|TextField|Import Name|string|gui|X Fix|null|Y Fix|null|W 
#Fix|null|H Fix|null|W Default|null|H Default|null|X Spec|string|175|Y 
#Spec|string|65|W Spec|string|150|H Spec|string|25|X Align|string|l|Y A
#lign|string|t|Is shaded|null|Is Button Subclass|null|Draw Border|integ
#er|1|Attribs|list|0|Tooltip|null|Accel|null|Event Handlers|list|0|Clas
#s Variable|integer|1|Parent Component|14|Contents|string||Filter Strin
#g|string||class|CanvasTextField|27|Parent Canvas|1|Name|string|compile
#rName|Class Name|string|TextField|Import Name|string|gui|X Fix|null|Y 
#Fix|null|W Fix|null|H Fix|null|W Default|null|H Default|null|X Spec|st
#ring|175|Y Spec|string|100|W Spec|string|150|H Spec|string|25|X Align|
#string|l|Y Align|string|t|Is shaded|null|Is Button Subclass|null|Draw 
#Border|integer|1|Attribs|list|0|Tooltip|null|Accel|null|Event Handlers
#|list|0|Class Variable|integer|1|Parent Component|14|Contents|string||
#Filter String|string||class|CanvasTextField|27|Parent Canvas|1|Name|st
#ring|compilerflags|Class Name|string|TextField|Import Name|string|gui|
#X Fix|null|Y Fix|null|W Fix|null|H Fix|null|W Default|null|H Default|n
#ull|X Spec|string|175|Y Spec|string|135|W Spec|string|150|H Spec|strin
#g|25|X Align|string|l|Y Align|string|t|Is shaded|null|Is Button Subcla
#ss|null|Draw Border|integer|1|Attribs|list|0|Tooltip|null|Accel|null|E
#vent Handlers|list|0|Class Variable|integer|1|Parent Component|14|Cont
#ents|string||Filter String|string||class|CanvasTextField|27|Parent Can
#vas|1|Name|string|linkerName|Class Name|string|TextField|Import Name|s
#tring|gui|X Fix|null|Y Fix|null|W Fix|null|H Fix|null|W Default|null|H
# Default|null|X Spec|string|175|Y Spec|string|170|W Spec|string|150|H 
#Spec|string|25|X Align|string|l|Y Align|string|t|Is shaded|null|Is But
#ton Subclass|null|Draw Border|integer|1|Attribs|list|0|Tooltip|null|Ac
#cel|null|Event Handlers|list|0|Class Variable|integer|1|Parent Compone
#nt|14|Contents|string||Filter String|string||class|CanvasTextField|27|
#Parent Canvas|1|Name|string|linkerflags|Class Name|string|TextField|Im
#port Name|string|gui|X Fix|null|Y Fix|null|W Fix|null|H Fix|null|W Def
#ault|null|H Default|null|X Spec|string|175|Y Spec|string|205|W Spec|st
#ring|150|H Spec|string|25|X Align|string|l|Y Align|string|t|Is shaded|
#null|Is Button Subclass|null|Draw Border|integer|1|Attribs|list|0|Tool
#tip|null|Accel|null|Event Handlers|list|0|Class Variable|integer|1|Par
#ent Component|14|Contents|string||Filter String|string||class|CanvasTa
#bItem|28|Parent Canvas|1|Name|string|files_tab|Class Name|string|TabIt
#em|Import Name|string|gui|X Fix|null|Y Fix|null|W Fix|null|H Fix|null|
#W Default|null|H Default|null|X Spec|integer|0|Y Spec|integer|0|W Spec
#|string|100%|H Spec|string|100%|X Align|string|l|Y Align|string|t|Is s
#haded|null|Is Button Subclass|null|Draw Border|null|Attribs|list|0|Too
#ltip|null|Accel|null|Event Handlers|null|Class Variable|null|Parent Co
#mponent|10|Label|string|Files|Parent TabSet|10|Children|list|4|class|C
#anvasLabel|27|Parent Canvas|1|Name|string|sourcefiles_lbl|Class Name|s
#tring|Label|Import Name|string|gui|X Fix|null|Y Fix|null|W Fix|null|H 
#Fix|null|W Default|null|H Default|null|X Spec|string|10|Y Spec|string|
#10|W Spec|string|120|H Spec|string|25|X Align|string|l|Y Align|string|
#t|Is shaded|null|Is Button Subclass|null|Draw Border|null|Attribs|list
#|0|Tooltip|null|Accel|null|Event Handlers|list|0|Class Variable|null|P
#arent Component|53|Label|string|Source Files:|Internal Align|string|l|
#class|CanvasTextList|29|Parent Canvas|1|Name|string|sourcefiles_list|C
#lass Name|string|TextList|Import Name|string|gui|X Fix|null|Y Fix|null
#|W Fix|null|H Fix|null|W Default|null|H Default|null|X Spec|string|10|
#Y Spec|string|45|W Spec|string|255|H Spec|string|170|X Align|string|l|
#Y Align|string|t|Is shaded|null|Is Button Subclass|null|Draw Border|in
#teger|1|Attribs|list|1|string|bg=white|Tooltip|null|Accel|null|Event H
#andlers|list|0|Class Variable|integer|1|Parent Component|53|Select One
#|null|Select Many|null|Checked|list|1|null|Contents|list|1|string||cla
#ss|CanvasTextButton|36|Parent Canvas|1|Name|string|filesAdd_btn|Class 
#Name|string|TextButton|Import Name|string|gui|X Fix|null|Y Fix|null|W 
#Fix|null|H Fix|null|W Default|null|H Default|integer|1|X Spec|string|2
#80|Y Spec|string|150|W Spec|string|70|H Spec|integer|25|X Align|string
#|l|Y Align|string|t|Is shaded|null|Is Button Subclass|integer|1|Draw B
#order|null|Attribs|list|0|Tooltip|null|Accel|null|Event Handlers|list|
#1|list|2|string|ACTION_EVENT|string|on_filesAdd|Class Variable|integer
#|1|Parent Component|53|Label|string|Add|No Keyboard|null|Img Up|null|I
#mg Down|null|Img Width|null|Img Height|null|Is Checked Flag|null|Is Ch
#eckbox Flag|null|Parent CheckBoxGroup|null|Parent Button Group|null|In
#ternal Align|string|c|class|CanvasTextButton|36|Parent Canvas|1|Name|s
#tring|filesDel_btn|Class Name|string|TextButton|Import Name|string|gui
#|X Fix|null|Y Fix|null|W Fix|null|H Fix|null|W Default|null|H Default|
#integer|1|X Spec|string|280|Y Spec|string|185|W Spec|string|70|H Spec|
#integer|25|X Align|string|l|Y Align|string|t|Is shaded|null|Is Button 
#Subclass|integer|1|Draw Border|null|Attribs|list|0|Tooltip|null|Accel|
#null|Event Handlers|list|1|list|2|string|ACTION_EVENT|string|on_filesD
#el|Class Variable|integer|1|Parent Component|53|Label|string|Del|No Ke
#yboard|null|Img Up|null|Img Down|null|Img Width|null|Img Height|null|I
#s Checked Flag|null|Is Checkbox Flag|null|Parent CheckBoxGroup|null|Pa
#rent Button Group|null|Internal Align|string|c|Which One|14|class|Canv
#asTextButton|36|Parent Canvas|1|Name|string|ok_btn|Class Name|string|T
#extButton|Import Name|string|gui|X Fix|integer|1|Y Fix|null|W Fix|null
#|H Fix|null|W Default|null|H Default|integer|1|X Spec|string|50%|Y Spe
#c|string|281|W Spec|string|69|H Spec|integer|25|X Align|string|c|Y Ali
#gn|string|t|Is shaded|null|Is Button Subclass|integer|1|Draw Border|nu
#ll|Attribs|list|0|Tooltip|null|Accel|null|Event Handlers|list|1|list|2
#|string|ACTION_EVENT|string|on_ok_btn|Class Variable|null|Parent Compo
#nent|1|Label|string|Create|No Keyboard|null|Img Up|null|Img Down|null|
#Img Width|null|Img Height|null|Is Checked Flag|null|Is Checkbox Flag|n
#ull|Parent CheckBoxGroup|null|Parent Button Group|null|Internal Align|
#string|c|Initial Focus|null|Event Handlers|list|1|list|2|string|CLOSE_
#BUTTON_EVENT|string|on_close|
